{"version":3,"file":"docstate.js","sourceRoot":"","sources":["../../../../../../../browser/src/docstate.js"],"names":[],"mappings":"AAAA,kBAAkB;AAElB,MAAM,CAAC,GAAG,GAAG;IACZ,WAAW,EAAE,EAAE;IACf,QAAQ,EAAE,MAAM,CAAC,gBAAgB;IACjC,eAAe,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,gBAAgB,CAAC;IACpD,aAAa,EAAE,CAAC;IAChB,aAAa,EAAE,CAAC;IAChB,IAAI,EAAE;QACL,WAAW,EAAE,KAAK;QAClB,QAAQ,EAAE,IAAI;QACd,cAAc,EAAE,KAAK;QACrB,IAAI,EAAE;YACL,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;YACd,KAAK,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;SACb;QACD,eAAe,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QAC7B,aAAa,EAAE,KAAK;QACpB,IAAI,EAAE;YACL,UAAU,EAAE;gBACX,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;gBACf,SAAS,EAAE;oBACV,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;oBACpB,KAAK,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;iBACnB;gBACD,OAAO,EAAE,KAAK;aACd;SACD;QACD,MAAM,EAAE;YACP,iBAAiB,EAAE,EAAE,CAAC,yIAAyI;SAC/J;KACD;IACD,IAAI,EAAE;QACL,eAAe,EAAE,KAAK;QACtB,IAAI,EAAE;YACL,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,+CAA+C;SAC9D;KACD;IACD,IAAI,EAAE;QACL,IAAI,EAAE;YACL,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;YACd,KAAK,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;SACb;KACD;IACD,MAAM,EAAE,MAAM,CAAC,GAAG,CAAC,MAAM;IACzB,OAAO,EAAE,MAAM,CAAC,GAAG,CAAC,OAAO;CAC3B,CAAC;AAEF,IAAI,kBAAkB,GAAG,KAAK,CAAC;AAE/B,IAAI,kBAAkB,EAAE;IACxB;;;;;;;;;;;;;;;;;MAiBE;IACD,IAAI,SAAS,GAAG;QACf,GAAG,EAAE,UAAS,GAAG,EAAE,IAAI,EAAE,KAAK;YAC7B,0CAA0C;YAC1C,GAAG,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC;YAClB,OAAO,CAAC,GAAG,CAAC,+BAA+B,GAAG,IAAI,EAAE,KAAK,CAAC,CAAC;YAC3D,mBAAmB;YACnB,OAAO,IAAI,CAAC;QACb,CAAC;KACD,CAAC;IAEF,MAAM,CAAC,GAAG,GAAG,IAAI,KAAK,CAAC,MAAM,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC;CAC9C","sourcesContent":["/* global Proxy */\n\nwindow.app = { // Shouldn't have any functions defined.\n\tdefinitions: {}, // Class instances are created using definitions under this variable.\n\tdpiScale: window.devicePixelRatio,\n\troundedDpiScale: Math.round(window.devicePixelRatio),\n\ttwipsToPixels: 0, // Twips to pixels multiplier.\n\tpixelsToTwips: 0, // Pixels to twips multiplier.\n\tfile: {\n\t\teditComment: false,\n\t\treadOnly: true,\n\t\tdisableSidebar: false,\n\t\tsize: {\n\t\t\tpixels: [0, 0], // This can change according to the zoom level and document's size.\n\t\t\ttwips: [0, 0]\n\t\t},\n\t\tviewedRectangle: [0, 0, 0, 0], // Visible part of the file (x, y, w, h).\n\t\tfileBasedView: false, // (draw-impress only) Default is false. For read-only documents, user can view all parts at once. In that case, this variable is set to \"true\".\n\t\tcalc: {\n\t\t\tcellCursor: {\n\t\t\t\taddress: [0, 0],\n\t\t\t\trectangle: {\n\t\t\t\t\tpixels: [0, 0, 0, 0],\n\t\t\t\t\ttwips: [0, 0, 0, 0]\n\t\t\t\t},\n\t\t\t\tvisible: false,\n\t\t\t}\n\t\t},\n\t\twriter: {\n\t\t\tpageRectangleList: [] // Array of arrays: [x, y, w, h] (as usual) // twips only. Pixels will be calculated on the fly. Corresponding pixels may change too ofte\n\t\t},\n\t},\n\tview: {\n\t\tcommentHasFocus: false,\n\t\tsize: {\n\t\t\tpixels: [0, 0] // This can be larger than the document's size.\n\t\t}\n\t},\n\ttile: {\n\t\tsize: {\n\t\t\tpixels: [0, 0],\n\t\t\ttwips: [0, 0]\n\t\t}\n\t},\n\tsocket: window.app.socket,\n\tconsole: window.app.console,\n};\n\nvar activateValidation = false;\n\nif (activateValidation) {\n/*\n\tFor debugging purposes.\n\n\t* Easier debugging.\n\t* Value range checks.\n\n\tIt logs the changes of the variables of \"window.app\" object.\n\tThis provides debugging of window.app object and makes easier use of these global states of the document.\n\twindow.app object can contain cursor position etc. variables related to document state.\n\tOne needs to only watch the data structure and add new variables into related sub-object (file, view, tile etc.).\n\n\tThis validator also enables global data validation.\n\tIf a variable of window.app should stay in a specified range:\n\t\t* One can add a check for that variable into \"set\" function below.\n\tThis validation feature may also be useful with Cypress tests and Javascript unit tests.\n\n\tThis first version only contains the logging of the changes.\n*/\n\tvar validator = {\n\t\tset: function(obj, prop, value) {\n\t\t\t// The default behavior to store the value\n\t\t\tobj[prop] = value;\n\t\t\tconsole.log('window.app property changed: ' + prop, value);\n\t\t\t// Indicate success\n\t\t\treturn true;\n\t\t}\n\t};\n\n\twindow.app = new Proxy(window.app, validator);\n}\n"]}