{"version":3,"file":"ImageOverlay.js","sourceRoot":"","sources":["../../../../../../../../browser/src/layer/ImageOverlay.js"],"names":[],"mappings":"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","sourcesContent":["/* -*- js-indent-level: 8 -*- */\n/*\n * L.ImageOverlay is used to overlay images over the map (to specific geographical bounds).\n */\n\nL.ImageOverlay = L.Layer.extend({\n\n\toptions: {\n\t\topacity: 1,\n\t\talt: '',\n\t\tinteractive: false\n\t},\n\n\tinitialize: function (url, bounds, options) { // (String, LatLngBounds, Object)\n\t\tthis._url = url;\n\t\tthis._bounds = L.latLngBounds(bounds);\n\n\t\tL.setOptions(this, options);\n\t},\n\n\tonAdd: function () {\n\t\tif (!this._image) {\n\t\t\tthis._initImage();\n\n\t\t\tif (this.options.opacity < 1) {\n\t\t\t\tthis._updateOpacity();\n\t\t\t}\n\t\t}\n\n\t\tif (this.options.interactive) {\n\t\t\tL.DomUtil.addClass(this._image, 'leaflet-interactive');\n\t\t\tthis.addInteractiveTarget(this._image);\n\t\t}\n\n\t\tthis.getPane().appendChild(this._image);\n\t\tthis._reset();\n\t},\n\n\tonRemove: function () {\n\t\tL.DomUtil.remove(this._image);\n\t\tif (this.options.interactive) {\n\t\t\tthis.removeInteractiveTarget(this._image);\n\t\t}\n\t},\n\n\tsetOpacity: function (opacity) {\n\t\tthis.options.opacity = opacity;\n\n\t\tif (this._image) {\n\t\t\tthis._updateOpacity();\n\t\t}\n\t\treturn this;\n\t},\n\n\tsetStyle: function (styleOpts) {\n\t\tif (styleOpts.opacity) {\n\t\t\tthis.setOpacity(styleOpts.opacity);\n\t\t}\n\t\treturn this;\n\t},\n\n\tbringToFront: function () {\n\t\tif (this._map) {\n\t\t\tL.DomUtil.toFront(this._image);\n\t\t}\n\t\treturn this;\n\t},\n\n\tbringToBack: function () {\n\t\tif (this._map) {\n\t\t\tL.DomUtil.toBack(this._image);\n\t\t}\n\t\treturn this;\n\t},\n\n\tsetUrl: function (url) {\n\t\tthis._url = url;\n\n\t\tif (this._image) {\n\t\t\tthis._image.src = url;\n\t\t}\n\t\treturn this;\n\t},\n\n\tgetAttribution: function () {\n\t\treturn this.options.attribution;\n\t},\n\n\tgetEvents: function () {\n\t\tvar events = {\n\t\t\tviewreset: this._reset\n\t\t};\n\n\t\treturn events;\n\t},\n\n\tgetBounds: function () {\n\t\treturn this._bounds;\n\t},\n\n\t_initImage: function () {\n\t\tvar img = this._image = L.DomUtil.create('img', 'leaflet-image-layer');\n\n\t\timg.onselectstart = L.Util.falseFn;\n\t\timg.onmousemove = L.Util.falseFn;\n\n\t\timg.onload = L.bind(this.fire, this, 'load');\n\t\timg.src = this._url;\n\t\timg.alt = this.options.alt;\n\t},\n\n\t_reset: function () {\n\t\tvar image = this._image,\n\t\t    bounds = new L.Bounds(\n\t\t        this._map.latLngToLayerPoint(this._bounds.getNorthWest()),\n\t\t        this._map.latLngToLayerPoint(this._bounds.getSouthEast())),\n\t\t    size = bounds.getSize();\n\n\t\tL.DomUtil.setPosition(image, bounds.min);\n\n\t\timage.style.width  = size.x + 'px';\n\t\timage.style.height = size.y + 'px';\n\t},\n\n\t_updateOpacity: function () {\n\t\tL.DomUtil.setOpacity(this._image, this.options.opacity);\n\t}\n});\n\nL.imageOverlay = function (url, bounds, options) {\n\treturn new L.ImageOverlay(url, bounds, options);\n};\n"]}