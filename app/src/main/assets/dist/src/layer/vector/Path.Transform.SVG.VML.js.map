{"version":3,"file":"Path.Transform.SVG.VML.js","sourceRoot":"","sources":["../../../../../../../../../browser/src/layer/vector/Path.Transform.SVG.VML.js"],"names":[],"mappings":"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","sourcesContent":["L.SVG.include(!L.Browser.vml ? {} : {\n\n\t/**\n\t * Reset transform matrix\n\t */\n\t_resetTransformPath: function(layer) {\n\t\tif (layer._skew) {\n\t\t\t// super important! workaround for a 'jumping' glitch:\n\t\t\t// disable transform before removing it\n\t\t\tlayer._skew.on = false;\n\t\t\tlayer._path.removeChild(layer._skew);\n\t\t\tlayer._skew = null;\n\t\t}\n\t},\n\n\t/**\n\t * Applies matrix transformation to VML\n\t * @param {L.Path}         layer\n\t * @param {Array.<Number>} matrix\n\t */\n\ttransformPath: function(layer, matrix) {\n\t\tvar skew = layer._skew;\n\n\t\tif (!skew) {\n\t\t\tskew = L.SVG.create('skew');\n\t\t\tlayer._path.appendChild(skew);\n\t\t\tskew.style.behavior = 'url(#default#VML)';\n\t\t\tlayer._skew = skew;\n\t\t}\n\n\t\t// handle skew/translate separately, cause it's broken\n\t\tvar mt = matrix[0].toFixed(8) + ' ' + matrix[1].toFixed(8) + ' ' +\n\t\t\tmatrix[2].toFixed(8) + ' ' + matrix[3].toFixed(8) + ' 0 0';\n\t\tvar offset = Math.floor(matrix[4]).toFixed() + ', ' +\n\t\t\tMath.floor(matrix[5]).toFixed() + '';\n\n\t\tvar s = this._path.style;\n\t\tvar l = parseFloat(s.left);\n\t\tvar t = parseFloat(s.top);\n\t\tvar w = parseFloat(s.width);\n\t\tvar h = parseFloat(s.height);\n\n\t\tif (isNaN(l))       l = 0;\n\t\tif (isNaN(t))       t = 0;\n\t\tif (isNaN(w) || !w) w = 1;\n\t\tif (isNaN(h) || !h) h = 1;\n\n\t\tvar origin = (-l / w - 0.5).toFixed(8) + ' ' + (-t / h - 0.5).toFixed(8);\n\n\t\tskew.on = 'f';\n\t\tskew.matrix = mt;\n\t\tskew.origin = origin;\n\t\tskew.offset = offset;\n\t\tskew.on = true;\n\t}\n\n});\n"]}