{"version":3,"file":"Util.js","sourceRoot":"","sources":["../../../../../../../../browser/src/core/Util.js"],"names":[],"mappings":"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","sourcesContent":["/* -*- js-indent-level: 8 -*- */\n/*\n * L.Util contains various utility functions used throughout Leaflet code.\n */\n\nL.Util = {\n\t// extend an object with properties of one or more other objects\n\textend: function (dest) {\n\t\tvar i, j, len, src;\n\n\t\tfor (j = 1, len = arguments.length; j < len; j++) {\n\t\t\tsrc = arguments[j];\n\t\t\tfor (i in src) {\n\t\t\t\tdest[i] = src[i];\n\t\t\t}\n\t\t}\n\t\treturn dest;\n\t},\n\n\t// create an object from a given prototype\n\tcreate: Object.create || (function () {\n\t\tfunction F() {}\n\t\treturn function (proto) {\n\t\t\tF.prototype = proto;\n\t\t\treturn new F();\n\t\t};\n\t})(),\n\n\t// bind a function to be called with a given context\n\tbind: function (fn, obj) {\n\t\tvar slice = Array.prototype.slice;\n\n\t\tif (fn.bind) {\n\t\t\treturn fn.bind.apply(fn, slice.call(arguments, 1));\n\t\t}\n\n\t\tvar args = slice.call(arguments, 2);\n\n\t\treturn function () {\n\t\t\treturn fn.apply(obj, args.length ? args.concat(slice.call(arguments)) : arguments);\n\t\t};\n\t},\n\n\t// return unique ID of an object\n\tstamp: function (obj) {\n\t\t/*eslint-disable */\n\t\tobj._leaflet_id = obj._leaflet_id || ++L.Util.lastId;\n\t\treturn obj._leaflet_id;\n\t\t/*eslint-enable */\n\t},\n\n\tlastId: 0,\n\n\t// return a function that won't be called more often than the given interval\n\tthrottle: function (fn, time, context) {\n\t\tvar lock, args, wrapperFn, later;\n\n\t\tlater = function () {\n\t\t\t// reset lock and call if queued\n\t\t\tlock = false;\n\t\t\tif (args) {\n\t\t\t\twrapperFn.apply(context, args);\n\t\t\t\targs = false;\n\t\t\t}\n\t\t};\n\n\t\twrapperFn = function () {\n\t\t\tif (lock) {\n\t\t\t\t// called too soon, queue to call later\n\t\t\t\targs = arguments;\n\n\t\t\t} else {\n\t\t\t\t// call and lock until later\n\t\t\t\tfn.apply(context, arguments);\n\t\t\t\tsetTimeout(later, time);\n\t\t\t\tlock = true;\n\t\t\t}\n\t\t};\n\n\t\treturn wrapperFn;\n\t},\n\n\t// wrap the given number to lie within a certain range (used for wrapping longitude)\n\twrapNum: function (x, range, includeMax) {\n\t\tvar max = range[1],\n\t\t    min = range[0],\n\t\t    d = max - min;\n\t\treturn x === max && includeMax ? x : ((x - min) % d + d) % d + min;\n\t},\n\n\t// do nothing (used as a noop throughout the code)\n\tfalseFn: function () { return false; },\n\n\t// round a given number to a given precision\n\tformatNum: function (num, digits) {\n\t\tvar pow = Math.pow(10, digits || 5);\n\t\treturn Math.round(num * pow) / pow;\n\t},\n\n\t// trim whitespace from both sides of a string\n\ttrim: function (str) {\n\t\treturn str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g, '');\n\t},\n\n\t// split a string into words\n\tsplitWords: function (str) {\n\t\treturn L.Util.trim(str).split(/\\s+/);\n\t},\n\n\t// set options to an object, inheriting parent's options as well\n\tsetOptions: function (obj, options) {\n\t\tif (!Object.prototype.hasOwnProperty.call(obj, 'options')) {\n\t\t\tobj.options = obj.options ? L.Util.create(obj.options) : {};\n\t\t}\n\t\tfor (var i in options) {\n\t\t\tobj.options[i] = options[i];\n\t\t}\n\t\treturn obj.options;\n\t},\n\n\tround: function(x, e) {\n\t\tif (!e) {\n\t\t\treturn Math.round(x);\n\t\t}\n\t\tvar f = 1.0/e;\n\t\treturn Math.round(x * f) * e;\n\t},\n\n\t// super-simple templating facility, used for TileLayer URLs\n\ttemplate: function (str, data) {\n\t\treturn str.replace(L.Util.templateRe, function (str, key) {\n\t\t\tvar value = data[key];\n\n\t\t\tif (value === undefined) {\n\t\t\t\tthrow new Error('No value provided for variable ' + str);\n\n\t\t\t} else if (typeof value === 'function') {\n\t\t\t\tvalue = value(data);\n\t\t\t}\n\t\t\treturn value;\n\t\t});\n\t},\n\n\ttemplateRe: /\\{ *([\\w_]+) *\\}/g,\n\n\tisArray: Array.isArray || function (obj) {\n\t\treturn (Object.prototype.toString.call(obj) === '[object Array]');\n\t},\n\n\t// minimal image URI, set to an image when disposing to flush memory\n\temptyImageUrl: 'data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=',\n\n\ttoggleFullScreen: function() {\n\t\tif (!document.fullscreenElement &&\n\t\t\t!document.mozFullscreenElement &&\n\t\t\t!document.msFullscreenElement &&\n\t\t\t!document.webkitFullscreenElement) {\n\t\t\tif (document.documentElement.requestFullscreen) {\n\t\t\t\tdocument.documentElement.requestFullscreen();\n\t\t\t} else if (document.documentElement.msRequestFullscreen) {\n\t\t\t\tdocument.documentElement.msRequestFullscreen();\n\t\t\t} else if (document.documentElement.mozRequestFullScreen) {\n\t\t\t\tdocument.documentElement.mozRequestFullScreen();\n\t\t\t} else if (document.documentElement.webkitRequestFullscreen) {\n\t\t\t\tdocument.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);\n\t\t\t}\n\t\t} else if (document.exitFullscreen) {\n\t\t\tdocument.exitFullscreen();\n\t\t} else if (document.msExitFullscreen) {\n\t\t\tdocument.msExitFullscreen();\n\t\t} else if (document.mozCancelFullScreen) {\n\t\t\tdocument.mozCancelFullScreen();\n\t\t} else if (document.webkitExitFullscreen) {\n\t\t\tdocument.webkitExitFullscreen();\n\t\t}\n\t},\n\n\tisEmpty: function(o) {\n\t\treturn !(o && o.length);\n\t},\n\n\tmm100thToInch: function(mm) {\n\t\treturn mm / 2540;\n\t},\n\n\tgetTextWidth: function(text, font) {\n\t\tvar canvas = L.Util.getTextWidth._canvas || (L.Util.getTextWidth._canvas = document.createElement('canvas'));\n\t\tvar context = canvas.getContext('2d');\n\t\tcontext.font = font;\n\t\tvar metrics = context.measureText(text);\n\t\treturn Math.floor(metrics.width);\n\t},\n\n\treplaceCtrlAltInMac: function(msg) {\n\t\tif (navigator.appVersion.indexOf('Mac') != -1 || navigator.userAgent.indexOf('Mac') != -1) {\n\t\t\tvar ctrl = /Ctrl/g;\n\t\t\tvar alt = /Alt/g;\n\t\t\tif (String.locale.startsWith('de') || String.locale.startsWith('dsb') || String.locale.startsWith('hsb')) {\n\t\t\t\tctrl = /Strg/g;\n\t\t\t}\n\t\t\tif (String.locale.startsWith('lt')) {\n\t\t\t\tctrl = /Vald/g;\n\t\t\t}\n\t\t\tif (String.locale.startsWith('sl')) {\n\t\t\t\tctrl = /Krmilka/gi;\n\t\t\t\talt = /Izmenjalka/gi;\n\t\t\t}\n\t\t\treturn msg.replace(ctrl, '⌘').replace(alt, '⌥');\n\t\t}\n\t\treturn msg;\n\t}\n};\n\n(function () {\n\t// inspired by http://paulirish.com/2011/requestanimationframe-for-smart-animating/\n\n\tfunction getPrefixed(name) {\n\t\treturn window['webkit' + name] || window['moz' + name] || window['ms' + name];\n\t}\n\n\tvar lastTime = 0;\n\n\t// fallback for IE 7-8\n\tfunction timeoutDefer(fn) {\n\t\tvar time = +new Date(),\n\t\t    timeToCall = Math.max(0, 16 - (time - lastTime));\n\n\t\tlastTime = time + timeToCall;\n\t\treturn window.setTimeout(fn, timeToCall);\n\t}\n\n\tvar requestFn = window.requestAnimationFrame || getPrefixed('RequestAnimationFrame') || timeoutDefer,\n\t    cancelFn = window.cancelAnimationFrame || getPrefixed('CancelAnimationFrame') ||\n\t               getPrefixed('CancelRequestAnimationFrame') || function (id) { window.clearTimeout(id); };\n\n\n\tL.Util.requestAnimFrame = function (fn, context, immediate) {\n\t\tif (immediate && requestFn === timeoutDefer) {\n\t\t\tfn.call(context);\n\t\t} else {\n\t\t\treturn requestFn.call(window, L.bind(fn, context));\n\t\t}\n\t};\n\n\tL.Util.cancelAnimFrame = function (id) {\n\t\tif (id) {\n\t\t\tcancelFn.call(window, id);\n\t\t}\n\t};\n\n\t// on IE11 Number.MAX_SAFE_INTEGER, Number.MIN_SAFE_INTEGER are not supported\n\tL.Util.MAX_SAFE_INTEGER = Math.pow(2, 53)-1;\n\tL.Util.MIN_SAFE_INTEGER = -L.Util.MAX_SAFE_INTEGER;\n})();\n\nif (!String.prototype.startsWith) {\n\tString.prototype.startsWith = function(searchString, position) {\n\t\tposition = position || 0;\n\t\treturn this.substr(position, searchString.length) === searchString;\n\t};\n}\n\nif (!Element.prototype.remove) {\n\tElement.prototype.remove = function() {\n\t\tif (this.parentNode) {\n\t\t\tthis.parentNode.removeChild(this);\n\t\t}\n\t};\n}\n\nif (Number.EPSILON === undefined) {\n\tNumber.EPSILON = Math.pow(2, -52);\n}\n\nif (!Number.MAX_SAFE_INTEGER) {\n\tNumber.MAX_SAFE_INTEGER = 9007199254740991; // Math.pow(2, 53) - 1;\n}\n\n// shortcuts for most used utility functions\nL.extend = L.Util.extend;\nL.bind = L.Util.bind;\nL.stamp = L.Util.stamp;\nL.setOptions = L.Util.setOptions;\nL.round = L.Util.round;\nL.toggleFullScreen = L.Util.toggleFullScreen;\nL.isEmpty = L.Util.isEmpty;\nL.mm100thToInch = L.Util.mm100thToInch;\nL.getTextWidth = L.Util.getTextWidth;\n"]}