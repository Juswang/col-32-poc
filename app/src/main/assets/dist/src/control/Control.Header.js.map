{"version":3,"file":"Control.Header.js","sourceRoot":"","sources":["../../../../../../../../browser/src/control/Control.Header.js"],"names":[],"mappings":"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","sourcesContent":["/* -*- js-indent-level: 8 -*- */\n/*\n* Control.Header\n*\n* Abstract class, basis for ColumnHeader and RowHeader controls.\n* Used only in spreadsheets, implements the row/column headers.\n*/\n/* global $ L app */\n\nL.Control.Header = L.Class.extend({\n\n\t_setConverter: function() {\n\t\tthis.converter = this._map._docLayer._twipsToCorePixels.bind(this._map._docLayer);\n\t},\n\n\t_initHeaderEntryStyles: function (className) {\n\t\tvar baseElem = document.getElementsByTagName('body')[0];\n\t\tvar elem = L.DomUtil.create('div', className, baseElem);\n\t\tthis._textColor = L.DomUtil.getStyle(elem, 'color');\n\t\tthis._backgroundColor = L.DomUtil.getStyle(elem, 'background-color');\n\t\tvar fontFamily = L.DomUtil.getStyle(elem, 'font-family');\n\t\tvar that = this;\n\t\tthis.getFont = function() {\n\t\t\tvar selectedSize = that._getFontSize();\n\t\t\treturn selectedSize + 'px ' + fontFamily;\n\t\t};\n\t\tthis._borderColor = L.DomUtil.getStyle(elem, 'border-top-color');\n\t\tvar borderWidth = L.DomUtil.getStyle(elem, 'border-top-width');\n\t\tthis._borderWidth = Math.round(parseFloat(borderWidth));\n\t\tthis._cursor = L.DomUtil.getStyle(elem, 'cursor');\n\t\tL.DomUtil.remove(elem);\n\t},\n\n\t_getFontSize: function () {\n\t\tvar map = this._map;\n\t\tvar zoomScale = map.getZoomScale(map.getZoom(),\tmap.options.defaultZoom);\n\t\tif (zoomScale < 0.68)\n\t\t\treturn Math.round(8 * app.dpiScale);\n\t\telse if (zoomScale < 0.8)\n\t\t\treturn Math.round(10 * app.dpiScale);\n\t\telse\n\t\t\treturn Math.round(12 * app.dpiScale);\n\t},\n\n\t_initHeaderEntryHoverStyles: function (className) {\n\t\tvar baseElem = document.getElementsByTagName('body')[0];\n\t\tvar elem = L.DomUtil.create('div', className, baseElem);\n\t\tthis._hoverColor = L.DomUtil.getStyle(elem, 'background-color');\n\t\tL.DomUtil.remove(elem);\n\t},\n\n\t_initHeaderEntrySelectedStyles: function (className) {\n\t\tvar baseElem = document.getElementsByTagName('body')[0];\n\t\tvar elem = L.DomUtil.create('div', className, baseElem);\n\t\tthis._selectionTextColor = L.DomUtil.getStyle(elem, 'color');\n\n\t\tvar selectionBackgroundGradient = [];\n\t\tvar gradientColors = L.DomUtil.getStyle(elem, 'background-image');\n\t\tgradientColors = gradientColors.slice('linear-gradient('.length, -1);\n\t\twhile (gradientColors) {\n\t\t\tvar color = gradientColors.split(',', 3);\n\t\t\tcolor = color.join(','); // color = 'rgb(r, g, b)'\n\t\t\tselectionBackgroundGradient.push(color);\n\t\t\tgradientColors = gradientColors.substr(color.length); // remove last parsed color\n\t\t\tgradientColors = gradientColors.substr(gradientColors.indexOf('r')); // remove ', ' stuff\n\t\t}\n\n\t\tif (selectionBackgroundGradient.length) {\n\t\t\tthis._selectionBackgroundGradient = selectionBackgroundGradient;\n\t\t}\n\t\tL.DomUtil.remove(elem);\n\t},\n\n\t_initHeaderEntryResizeStyles: function (className) {\n\t\tif (this.options.cursor) {\n\t\t\tthis._resizeCursor = this.options.cursor;\n\t\t}\n\t\telse {\n\t\t\tvar baseElem = document.getElementsByTagName('body')[0];\n\t\t\tvar elem = L.DomUtil.create('div', className, baseElem);\n\t\t\tthis._resizeCursor = L.DomUtil.getStyle(elem, 'cursor');\n\t\t\tL.DomUtil.remove(elem);\n\t\t}\n\t},\n\n\t_isRowColumnInSelectedRange: function (index) {\n\t\treturn (!!this._headerInfo.getElementData(index).isCurrent) || (!!this._headerInfo.getElementData(index).isHighlighted);\n\t},\n\n\tonLongPress: function () {\n\t\tif (this._map.isPermissionEdit()) {\n\t\t\twindow.contextMenuWizard = true;\n\t\t\tthis._map.fire('mobilewizard', {data: this._menuData});\n\t\t}\n\t},\n\n\t_updateCanvas: function () {\n\t\tif (this._headerInfo) {\n\t\t\tthis._headerInfo.update(this);\n\t\t\tthis.containerObject.requestReDraw();\n\t\t}\n\t},\n\n\toptimalHeight: function(index) {\n\t\tif (!this._isRowColumnInSelectedRange(index)) {\n\t\t\tthis._selectRow(index, 0);\n\t\t}\n\t\tthis._map.sendUnoCommand('.uno:SetOptimalRowHeight');\n\t},\n\n\tinsertRowAbove: function(index) {\n\t\t// First select the corresponding row because\n\t\t// .uno:InsertRows doesn't accept any row number\n\t\t// as argument and just inserts before the selected row\n\t\tif (!this._isRowColumnInSelectedRange(index)) {\n\t\t\tthis._selectRow(index, 0);\n\t\t}\n\t\tthis._map.sendUnoCommand('.uno:InsertRows');\n\t},\n\n\tinsertRowBelow: function(index) {\n\t\tif (!this._isRowColumnInSelectedRange(index)) {\n\t\t\tthis._selectRow(index, 0);\n\t\t}\n\t\tthis._map.sendUnoCommand('.uno:InsertRowsAfter');\n\t},\n\n\tdeleteRow: function(index) {\n\t\tif (!this._isRowColumnInSelectedRange(index)) {\n\t\t\tthis._selectRow(index, 0);\n\t\t}\n\t\tthis._map.sendUnoCommand('.uno:DeleteRows');\n\t},\n\n\thideRow: function(index) {\n\t\tif (!this._isRowColumnInSelectedRange(index)) {\n\t\t\tthis._selectRow(index, 0);\n\t\t}\n\t\tthis._map.sendUnoCommand('.uno:HideRow');\n\t},\n\n\tshowRow: function(index) {\n\t\tif (!this._isRowColumnInSelectedRange(index)) {\n\t\t\tthis._selectRow(index, 0);\n\t\t}\n\t\tthis._map.sendUnoCommand('.uno:ShowRow');\n\t},\n\n\t_selectRow: function(row, modifier) {\n\t\tvar command = {\n\t\t\tRow: {\n\t\t\t\ttype: 'long',\n\t\t\t\tvalue: row\n\t\t\t},\n\t\t\tModifier: {\n\t\t\t\ttype: 'unsigned short',\n\t\t\t\tvalue: modifier\n\t\t\t}\n\t\t};\n\n\t\tthis._map.wholeRowSelected = true; // This variable is set early, state change will set this again.\n\t\tthis._map.sendUnoCommand('.uno:SelectRow ', command);\n\t},\n\n\t_insertRowAbove: function() {\n\t\tvar index = this._lastMouseOverIndex;\n\t\tif (index !== undefined) {\n\t\t\tthis.insertRowAbove.call(this, index);\n\t\t}\n\t},\n\n\t_insertRowBelow: function() {\n\t\tvar index = this._lastMouseOverIndex;\n\t\tif (index !== undefined) {\n\t\t\tthis.insertRowBelow.call(this, index);\n\t\t}\n\t},\n\n\t_deleteSelectedRow: function() {\n\t\tvar index = this._lastMouseOverIndex;\n\t\tif (index !== undefined) {\n\t\t\tthis.deleteRow.call(this, index);\n\t\t}\n\t},\n\n\t_rowHeight: function() {\n\t\tthis._map.sendUnoCommand('.uno:RowHeight');\n\t},\n\n\t_optimalHeight: function() {\n\t\tvar index = this._lastMouseOverIndex;\n\t\tif (index !== undefined) {\n\t\t\tthis.optimalHeight.call(this, index);\n\t\t}\n\t},\n\n\t_hideRow: function() {\n\t\tvar index = this._lastMouseOverIndex;\n\t\tif (index !== undefined) {\n\t\t\tthis.hideRow.call(this, index);\n\t\t}\n\t},\n\n\t_showRow: function() {\n\t\tvar index = this._lastMouseOverIndex;\n\t\tif (index !== undefined) {\n\t\t\tthis.showRow.call(this, index);\n\t\t}\n\t},\n\n\t_getHorzLatLng: function (start, offset, e) {\n\t\tvar size = this._map.getSize();\n\t\tvar drag = this._map.mouseEventToContainerPoint(e);\n\t\tvar entryStart = (this._dragEntry.pos - this._dragEntry.size) / app.dpiScale;\n\t\tvar ypos = Math.max(drag.y, entryStart);\n\t\treturn [\n\t\t\tthis._map.unproject(new L.Point(0, ypos)),\n\t\t\tthis._map.unproject(new L.Point(size.x, ypos)),\n\t\t];\n\t},\n\n\toptimalWidth: function(index) {\n\t\tif (!this._isRowColumnInSelectedRange(index)) {\n\t\t\tthis._selectColumn(index, 0);\n\t\t}\n\t\tthis._map.sendUnoCommand('.uno:SetOptimalColumnWidth');\n\t},\n\n\tinsertColumnBefore: function(index) {\n\t\t// First select the corresponding column because\n\t\t// .uno:InsertColumn doesn't accept any column number\n\t\t// as argument and just inserts before the selected column\n\t\tif (!this._isRowColumnInSelectedRange(index)) {\n\t\t\tthis._selectColumn(index, 0);\n\t\t}\n\t\tthis._map.sendUnoCommand('.uno:InsertColumns');\n\t\tthis._updateColumnHeader();\n\t},\n\n\tinsertColumnAfter: function(index) {\n\t\tif (!this._isRowColumnInSelectedRange(index)) {\n\t\t\tthis._selectColumn(index, 0);\n\t\t}\n\t\tthis._map.sendUnoCommand('.uno:InsertColumnsAfter');\n\t\tthis._updateColumnHeader();\n\t},\n\n\tdeleteColumn: function(index) {\n\t\tif (!this._isRowColumnInSelectedRange(index)) {\n\t\t\tthis._selectColumn(index, 0);\n\t\t}\n\t\tthis._map.sendUnoCommand('.uno:DeleteColumns');\n\t\tthis._updateColumnHeader();\n\t},\n\n\thideColumn: function(index) {\n\t\tif (!this._isRowColumnInSelectedRange(index)) {\n\t\t\tthis._selectColumn(index, 0);\n\t\t}\n\t\tthis._map.sendUnoCommand('.uno:HideColumn');\n\t\tthis._updateColumnHeader();\n\t},\n\n\tshowColumn: function(index) {\n\t\tif (!this._isRowColumnInSelectedRange(index)) {\n\t\t\tthis._selectColumn(index, 0);\n\t\t}\n\t\tthis._map.sendUnoCommand('.uno:ShowColumn');\n\t\tthis._updateColumnHeader();\n\t},\n\n\t_updateColumnHeader: function () {\n\t\tthis._map._docLayer.refreshViewData({x: this._map._getTopLeftPoint().x, y: 0, offset: {x: undefined, y: 0}});\n\t},\n\n\t_colIndexToAlpha: function(columnNumber) {\n\t\tvar offset = 'A'.charCodeAt();\n\t\tvar dividend = columnNumber;\n\t\tvar columnName = '';\n\t\tvar modulo;\n\n\t\twhile (dividend > 0) {\n\t\t\tmodulo = (dividend - 1) % 26;\n\t\t\tcolumnName = String.fromCharCode(offset + modulo) + columnName;\n\t\t\tdividend = Math.floor((dividend - modulo) / 26);\n\t\t}\n\n\t\treturn columnName;\n\t},\n\n\t_selectColumn: function(colNumber, modifier) {\n\t\tvar command = {\n\t\t\tCol: {\n\t\t\t\ttype: 'unsigned short',\n\t\t\t\tvalue: colNumber\n\t\t\t},\n\t\t\tModifier: {\n\t\t\t\ttype: 'unsigned short',\n\t\t\t\tvalue: modifier\n\t\t\t}\n\t\t};\n\n\t\tthis._map.wholeColumnSelected = true; // This variable is set early, state change will set this again.\n\t\tthis._map.sendUnoCommand('.uno:SelectColumn ', command);\n\t},\n\n\t_getVertLatLng: function (start, offset, e) {\n\t\tvar size = this._map.getSize();\n\t\tvar drag = this._map.mouseEventToContainerPoint(e);\n\t\tvar isRTL = this.isCalcRTL();\n\t\tvar entryStart = (isRTL ? this.size[0] - this._dragEntry.pos + this._dragEntry.size : this._dragEntry.pos - this._dragEntry.size) / app.dpiScale;\n\t\tvar xpos = isRTL ? Math.min(drag.x, entryStart) : Math.max(drag.x, entryStart);\n\t\treturn [\n\t\t\tthis._map.unproject(new L.Point(xpos, 0)),\n\t\t\tthis._map.unproject(new L.Point(xpos, size.y)),\n\t\t];\n\t},\n\n\t_insertColBefore: function() {\n\t\tvar index = this._lastMouseOverIndex;\n\t\tif (index !== undefined) {\n\t\t\tthis.insertColumnBefore.call(this, index);\n\t\t}\n\t},\n\n\t_insertColAfter: function() {\n\t\tvar index = this._lastMouseOverIndex;\n\t\tif (index !== undefined) {\n\t\t\tthis.insertColumnAfter.call(this, index);\n\t\t}\n\t},\n\n\t_deleteSelectedCol: function() {\n\t\tvar index = this._lastMouseOverIndex;\n\t\tif (index !== undefined) {\n\t\t\tthis.deleteColumn.call(this, index);\n\t\t}\n\t},\n\n\t_columnWidth: function() {\n\t\tthis._map.sendUnoCommand('.uno:ColumnWidth');\n\t},\n\n\t_optimalWidth: function() {\n\t\tvar index = this._lastMouseOverIndex;\n\t\tif (index !== undefined) {\n\t\t\tthis.optimalWidth.call(this, index);\n\t\t}\n\t},\n\n\t_hideColumn: function() {\n\t\tvar index = this._lastMouseOverIndex;\n\t\tif (index !== undefined) {\n\t\t\tthis.hideColumn.call(this, index);\n\t\t}\n\t},\n\n\t_showColumn: function() {\n\t\tvar index = this._lastMouseOverIndex;\n\t\tif (index !== undefined) {\n\t\t\tthis.showColumn.call(this, index);\n\t\t}\n\t},\n\n\t_entryAtPoint: function(point) {\n\t\tif (!this._headerInfo)\n\t\t\treturn false;\n\n\t\tvar isColumn = this._headerInfo._isColumn;\n\t\tvar position = isColumn ? point[0]: point[1];\n\n\t\tvar result = null;\n\t\tvar isRTL = isColumn && this.isCalcRTL();\n\t\tthis._headerInfo.forEachElement(function(entry) {\n\t\t\tvar end = isRTL ? this.size[0] - entry.pos + entry.size : entry.pos;\n\t\t\tvar start = end - entry.size;\n\t\t\tif (position >= start && position < end) {\n\t\t\t\t// NOTE: From a geometric perspective resizeAreaStart is really \"resizeAreaEnd\" in RTL case.\n\t\t\t\tvar resizeAreaStart = isRTL ? Math.min(start + 3 * app.dpiScale, end) : Math.max(start, end - 3 * app.dpiScale);\n\t\t\t\tif (entry.isCurrent || window.mode.isMobile()) {\n\t\t\t\t\tresizeAreaStart = isRTL ? start + this._resizeHandleSize : end - this._resizeHandleSize;\n\t\t\t\t}\n\t\t\t\tvar isMouseOverResizeArea = isRTL ? (position < resizeAreaStart) : (position > resizeAreaStart);\n\t\t\t\tresult = {entry: entry, hit: isMouseOverResizeArea};\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}.bind(this));\n\t\treturn result;\n\t},\n\n\tonMouseEnter: function () {\n\t\tL.DomUtil.setStyle(this.containerObject.canvas, 'cursor', this._cursor);\n\t\tthis._bindContextMenu();\n\t},\n\n\tonMouseLeave: function (point) {\n\t\tif (point === null) { // This means that the mouse pointer is outside the canvas.\n\t\t\tif (this.containerObject.draggingSomething && this._dragEntry) { // Were we resizing a row / column before mouse left.\n\t\t\t\tthis.onDragEnd(this.containerObject.dragDistance);\n\t\t\t}\n\t\t}\n\n\t\tif (this._mouseOverEntry) {\n\t\t\tthis.containerObject.setPenPosition(this);\n\t\t\tthis.drawHeaderEntry(this._mouseOverEntry);\n\t\t\tthis._mouseOverEntry = null;\n\t\t}\n\t\tthis._hitResizeArea = false;\n\t\tL.DomUtil.setStyle(this.containerObject.canvas, 'cursor', 'default');\n\t},\n\n\tonContextMenu: function () {\n\n\t},\n\n\t_bindContextMenu: function () {\n\t\tthis._unBindContextMenu();\n\t\tvar that = this;\n\t\t$.contextMenu({\n\t\t\tselector: '#document-canvas',\n\t\t\tclassName: 'cool-font',\n\t\t\tzIndex: 10,\n\t\t\titems: that._menuItem,\n\t\t\tcallback: function() {}\n\t\t});\n\t\t$('#document-canvas').contextMenu('update');\n\t},\n\n\t_unBindContextMenu: function () {\n\t\t$.contextMenu('destroy', '#document-canvas');\n\t},\n\n\tinResize: function () {\n\t\treturn this.containerObject.draggingSomething && this._dragEntry && this._dragDistance;\n\t},\n\n\tdrawResizeLineIfNeeded: function () {\n\t\tif (!this.inResize())\n\t\t\treturn;\n\n\t\tthis.containerObject.setPenPosition(this);\n\t\tvar isRTL = this.isCalcRTL();\n\t\tvar x = this._isColumn ? ((isRTL ? this.size[0] - this._dragEntry.pos: this._dragEntry.pos) + this._dragDistance[0]): (isRTL ? 0 : this.size[0]);\n\t\tvar y = this._isColumn ? this.size[1]: (this._dragEntry.pos + this._dragDistance[1]);\n\n\t\tthis.context.lineWidth = app.dpiScale;\n\t\tthis.context.strokeStyle = 'darkblue';\n\t\tthis.context.beginPath();\n\t\tthis.context.moveTo(x, y);\n\t\tthis.context.lineTo(this._isColumn ? x: (isRTL ? -this.myTopLeft[0]: this.containerObject.right), this._isColumn ? this.containerObject.bottom: y);\n\t\tthis.context.stroke();\n\t},\n\n\tonMouseMove: function (point, dragDistance) {\n\t\tif (!this.containerObject.draggingSomething) { // If we are not dragging anything.\n\t\t\tthis._dragDistance = null;\n\t\t\tvar result = this._entryAtPoint(point); // Data related to current entry that the mouse is over now.\n\n\t\t\t// If mouse was over another entry previously, we draw that again (without mouse-over effect).\n\t\t\tif (this._mouseOverEntry && (!result || result.entry.index !== this._mouseOverEntry.index)) {\n\t\t\t\tthis.containerObject.setPenPosition(this);\n\t\t\t\tthis._mouseOverEntry.isOver = false;\n\t\t\t\tthis.drawHeaderEntry(this._mouseOverEntry);\n\t\t\t}\n\n\t\t\tvar isMouseOverResizeArea = false;\n\n\t\t\tif (result) { // Is mouse over an entry.\n\t\t\t\tthis._mouseOverEntry = result.entry;\n\t\t\t\tthis._mouseOverEntry.isOver = true;\n\t\t\t\tthis._lastMouseOverIndex = this._mouseOverEntry.index; // used by context menu\n\t\t\t\tthis.containerObject.setPenPosition(this);\n\t\t\t\tthis.drawHeaderEntry(result.entry);\n\t\t\t\tisMouseOverResizeArea = result.hit;\n\t\t\t}\n\n\t\t\t// cypress mobile emulation sometimes triggers resizing unintentionally.\n\t\t\tif (L.Browser.cypressTest)\n\t\t\t\treturn false;\n\n\t\t\tif (isMouseOverResizeArea !== this._hitResizeArea) { // Do we need to change cursor (to resize or pointer).\n\t\t\t\tvar cursor = isMouseOverResizeArea ? this._resizeCursor : this._cursor;\n\t\t\t\tL.DomUtil.setStyle(this.containerObject.canvas, 'cursor', cursor);\n\t\t\t\tthis._hitResizeArea = isMouseOverResizeArea;\n\t\t\t}\n\t\t}\n\t\telse { // We are in dragging mode.\n\t\t\tthis._dragDistance = dragDistance;\n\t\t\tthis.containerObject.requestReDraw(); // Remove previously drawn line and paint a new one.\n\t\t}\n\t},\n\n\tonDoubleClick: function () {\n\t\tthis._isColumn ? this.setOptimalWidthAuto(): this.setOptimalHeightAuto();\n\t},\n\n\tonMouseDown: function (point) {\n\t\tthis.onMouseMove(point);\n\n\t\tif (this._hitResizeArea) {\n\t\t\tL.DomUtil.disableImageDrag();\n\t\t\tL.DomUtil.disableTextSelection();\n\n\t\t\t// When code is here, this._mouseOverEntry should never be null.\n\n\t\t\tthis._dragEntry = { // In case dragging takes place, we will remember this entry.\n\t\t\t\tindex: this._mouseOverEntry.index,\n\t\t\t\torigsize: this._mouseOverEntry.origsize,\n\t\t\t\tpos: this._mouseOverEntry.pos,\n\t\t\t\tsize: this._mouseOverEntry.size\n\t\t\t};\n\t\t}\n\t\telse {\n\t\t\tthis._dragEntry = null;\n\t\t}\n\t},\n\n\tonMouseUp: function () {\n\t\tL.DomUtil.enableImageDrag();\n\t\tL.DomUtil.enableTextSelection();\n\n\t\tif (this.containerObject.draggingSomething && this._dragEntry) {\n\t\t\tthis.onDragEnd(this.containerObject.dragDistance);\n\t\t\tthis._dragEntry = null;\n\t\t}\n\t},\n\n\t_twipsToPixels: function (twips) {\n\t\tif (!this.converter)\n\t\t\treturn 0;\n\t\tvar point = new L.Point(twips, twips);\n\t\treturn Math.round(this._getParallelPos(this.converter(point)));\n\t},\n\n\tonNewDocumentTopLeft: function () {\n\t\tthis._updateCanvas();\n\t},\n\n\tonMouseWheel: function() {},\n});\n\nL.Control.Header.HeaderInfo = L.Class.extend({\n\n\tinitialize: function (map, _isColumn) {\n\t\twindow.app.console.assert(map && _isColumn !== undefined, 'map and isCol required');\n\t\tthis._map = map;\n\t\tthis._isColumn = _isColumn;\n\t\twindow.app.console.assert(this._map._docLayer.sheetGeometry, 'no sheet geometry data-structure found!');\n\t\tvar sheetGeom = this._map._docLayer.sheetGeometry;\n\t\tthis._dimGeom = this._isColumn ? sheetGeom.getColumnsGeometry() : sheetGeom.getRowsGeometry();\n\t},\n\n\tfindXInCellSelections: function (cellSelections, ordinate) {\n\t\tfor (var i = 0; i < cellSelections.length; i++) {\n\t\t\tif (cellSelections[i].containsPixelOrdinateX(ordinate))\n\t\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\n\tfindYInCellSelections: function (cellSelections, ordinate) {\n\t\tfor (var i = 0; i < cellSelections.length; i++) {\n\t\t\tif (cellSelections[i].containsPixelOrdinateY(ordinate))\n\t\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\n\tisHeaderEntryHighLighted: function (cellSelections, ordinate) {\n\t\tif (this._isColumn && this._map.wholeRowSelected)\n\t\t\treturn true;\n\t\telse if (!this._isColumn && this._map.wholeColumnSelected)\n\t\t\treturn true;\n\t\telse if (this._isColumn && cellSelections.length > 0) {\n\t\t\treturn this.findXInCellSelections(cellSelections, ordinate);\n\t\t}\n\t\telse if (!this._isColumn && cellSelections.length > 0) {\n\t\t\treturn this.findYInCellSelections(cellSelections, ordinate);\n\t\t}\n\t\telse\n\t\t\treturn false;\n\t},\n\n\tupdate: function (section) {\n\t\tvar cellSelections = this._map._docLayer._cellSelections;\n\t\tvar that = this;\n\t\tvar currentIndex = -1;\n\n\t\tif (this._map._docLayer._cellCursorXY) {\n\t\t\tcurrentIndex = this._isColumn ? this._map._docLayer._cellCursorXY.x: this._map._docLayer._cellCursorXY.y;\n\t\t}\n\n\t\tvar startPx = this._isColumn === true ? section.documentTopLeft[0]: section.documentTopLeft[1];\n\t\tthis._docVisStart = startPx;\n\t\tvar endPx = startPx + (this._isColumn === true ? section.size[0]: section.size[1]);\n\t\tvar startIdx = this._dimGeom.getIndexFromPos(startPx, 'corepixels');\n\t\tvar endIdx = this._dimGeom.getIndexFromPos(endPx - 1, 'corepixels');\n\t\tthis._elements = [];\n\n\t\tvar splitPosContext = this._map.getSplitPanesContext();\n\n\t\tthis._hasSplits = false;\n\t\tthis._splitIndex = 0;\n\t\tvar splitPos = 0;\n\n\t\tif (splitPosContext) {\n\n\t\t\tsplitPos = (this._isColumn ? splitPosContext.getSplitPos().x : splitPosContext.getSplitPos().y) * app.dpiScale;\n\t\t\tvar splitIndex = this._dimGeom.getIndexFromPos(splitPos + 1, 'corepixels');\n\n\t\t\tif (splitIndex) {\n\t\t\t\t// Make sure splitPos is aligned to the cell boundary.\n\t\t\t\tsplitPos = this._dimGeom.getElementData(splitIndex).startpos;\n\t\t\t\tthis._splitPos = splitPos;\n\t\t\t\tthis._dimGeom.forEachInRange(0, splitIndex - 1,\n\t\t\t\t\tfunction (idx, data) {\n\t\t\t\t\t\tthis._elements[idx] = {\n\t\t\t\t\t\t\tindex: idx,\n\t\t\t\t\t\t\tpos: data.startpos + data.size, // end position on the header canvas\n\t\t\t\t\t\t\tsize: data.size,\n\t\t\t\t\t\t\torigsize: data.size,\n\t\t\t\t\t\t\tisHighlighted: that.isHeaderEntryHighLighted(cellSelections, data.startpos + data.size * 0.5),\n\t\t\t\t\t\t\tisCurrent: idx === currentIndex ? true: false\n\t\t\t\t\t\t};\n\t\t\t\t\t}.bind(this)\n\t\t\t\t);\n\n\t\t\t\tthis._hasSplits = true;\n\t\t\t\tthis._splitIndex = splitIndex;\n\n\t\t\t\tvar freeStartPos = startPx + splitPos + 1;\n\t\t\t\tvar freeStartIndex = this._dimGeom.getIndexFromPos(freeStartPos + 1, 'corepixels');\n\n\t\t\t\tstartIdx = freeStartIndex;\n\t\t\t}\n\t\t}\n\n\t\t// first free index\n\t\tvar dataFirstFree = this._dimGeom.getElementData(startIdx);\n\t\tvar firstFreeEnd = dataFirstFree.startpos + dataFirstFree.size - startPx;\n\t\tvar firstFreeStart = splitPos;\n\t\tvar firstFreeSize = Math.max(0, firstFreeEnd - firstFreeStart);\n\t\tthis._elements[startIdx] = {\n\t\t\tindex: startIdx,\n\t\t\tpos: firstFreeEnd, // end position on the header canvas\n\t\t\tsize: firstFreeSize,\n\t\t\torigsize: dataFirstFree.size,\n\t\t\tisHighlighted: that.isHeaderEntryHighLighted(cellSelections, dataFirstFree.startpos + dataFirstFree.size * 0.5),\n\t\t\tisCurrent: startIdx === currentIndex ? true: false\n\t\t};\n\n\t\tthis._dimGeom.forEachInRange(startIdx + 1,\n\t\t\tendIdx, function (idx, data) {\n\t\t\t\tthis._elements[idx] = {\n\t\t\t\t\tindex: idx,\n\t\t\t\t\tpos: data.startpos - startPx + data.size, // end position on the header canvas\n\t\t\t\t\tsize: data.size,\n\t\t\t\t\torigsize: data.size,\n\t\t\t\t\tisHighlighted: that.isHeaderEntryHighLighted(cellSelections, data.startpos + data.size * 0.5),\n\t\t\t\t\tisCurrent: idx === currentIndex ? true: false\n\t\t\t\t};\n\t\t\t}.bind(this));\n\n\t\tthis._startIndex = startIdx;\n\t\tthis._endIndex = endIdx;\n\t},\n\n\tdocToHeaderPos: function (docPos) {\n\t\tif (!this._hasSplits) {\n\t\t\treturn docPos - this._docVisStart;\n\t\t}\n\n\t\tif (docPos <= this._splitPos) {\n\t\t\treturn docPos;\n\t\t}\n\n\t\t// max here is to prevent encroachment of the fixed pane-area.\n\t\treturn Math.max(docPos - this._docVisStart, this._splitPos);\n\t},\n\n\theaderToDocPos: function (hdrPos) {\n\t\tif (!this._hasSplits) {\n\t\t\treturn hdrPos + this._docVisStart;\n\t\t}\n\n\t\tif (hdrPos <= this._splitPos) {\n\t\t\treturn hdrPos;\n\t\t}\n\n\t\treturn hdrPos + this._docVisStart;\n\t},\n\n\tisZeroSize: function (i) {\n\t\tvar elem = this._elements[i];\n\t\twindow.app.console.assert(elem, 'queried a non existent row/col in the header : ' + i);\n\t\treturn elem.size === 0;\n\t},\n\n\tgetMinIndex: function () {\n\t\treturn this._hasSplits ? 0 : this._startIndex;\n\t},\n\n\tgetMaxIndex: function () {\n\t\treturn this._endIndex;\n\t},\n\n\tgetElementData: function (index) {\n\t\treturn this._elements[index];\n\t},\n\n\tgetRowData: function (index) {\n\t\twindow.app.console.assert(!this._isColumn, 'this is a column header instance!');\n\t\treturn this.getElementData(index);\n\t},\n\n\tgetColData: function (index) {\n\t\twindow.app.console.assert(this._isColumn, 'this is a row header instance!');\n\t\treturn this.getElementData(index);\n\t},\n\n\tgetPreviousIndex: function (index) {\n\n\t\tvar prevIndex;\n\t\tif (this._splitIndex && index === this._startIndex) {\n\t\t\tprevIndex = this._splitIndex - 1;\n\t\t}\n\t\telse {\n\t\t\tprevIndex = index - 1;\n\t\t}\n\n\t\treturn prevIndex;\n\t},\n\n\tgetNextIndex: function (index) {\n\n\t\tvar nextIndex;\n\t\tif (this._splitIndex && index === (this._splitIndex - 1)) {\n\t\t\tnextIndex = this._startIndex;\n\t\t}\n\t\telse {\n\t\t\tnextIndex = index + 1;\n\t\t}\n\n\t\treturn nextIndex;\n\t},\n\n\tforEachElement: function (callback) {\n\t\tvar idx;\n\t\tif (this._hasSplits) {\n\t\t\tfor (idx = 0; idx < this._splitIndex; ++idx) {\n\t\t\t\twindow.app.console.assert(this._elements[idx], 'forEachElement failed');\n\t\t\t\tif (callback(this._elements[idx])) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (idx = this._startIndex; idx <= this._endIndex; ++idx) {\n\t\t\twindow.app.console.assert(this._elements[idx], 'forEachElement failed');\n\t\t\tif (callback(this._elements[idx])) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t},\n\n});\n"]}