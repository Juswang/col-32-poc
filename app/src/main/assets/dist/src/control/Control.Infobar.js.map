{"version":3,"file":"Control.Infobar.js","sourceRoot":"","sources":["../../../../../../../../browser/src/control/Control.Infobar.js"],"names":[],"mappings":"AAAA,gCAAgC;AAChC;;GAEG;AAEH,kBAAkB;AAClB,CAAC,CAAC,OAAO,CAAC,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC;IACpC,KAAK,EAAE,UAAU,GAAG;QACnB,GAAG,CAAC,EAAE,CAAC,SAAS,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;IAC1C,CAAC;IAED,UAAU,EAAE,UAAS,CAAC;QACrB,IAAI,CAAC,CAAC,CAAC,GAAG;YACT,OAAO;QAER,IAAI,OAAO,GAAG,EAAE,CAAC;QACjB,IAAI,QAAQ,GAAG,cAAY,CAAC,CAAC;QAC7B,IAAI,CAAC,CAAC,WAAW,IAAI,CAAC,CAAC,MAAM,EAAE;YAC9B,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,EAAE,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,IAAI,EAAE,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;YAC5E,QAAQ,GAAG,UAAU,KAAK;gBACzB,IAAI,KAAK,KAAK,KAAK,EAAE,oBAAoB;oBACxC,OAAO;gBAER,IAAI,CAAC,CAAC,MAAM,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE,EAAE,iBAAiB;oBACnD,IAAI,GAAG,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;oBAC1C,GAAG,CAAC,KAAK,EAAE,CAAC;iBACZ;YACF,CAAC,CAAC;SACF;QAED,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC;YACf,OAAO,EAAE,CAAC,CAAC,GAAG;YACd,SAAS,EAAE,+BAA+B;YAC1C,eAAe,EAAE,IAAI;YACrB,OAAO,EAAE,OAAO;YAChB,QAAQ,EAAE,QAAQ;SAClB,CAAC,CAAC;IACJ,CAAC;CACD,CAAC,CAAC;AAEH,CAAC,CAAC,OAAO,CAAC,OAAO,GAAG,UAAU,OAAO;IACpC,OAAO,IAAI,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;AACvC,CAAC,CAAC","sourcesContent":["/* -*- js-indent-level: 8 -*- */\n/*\n * L.Control.Infobar used for displaying non-annoying info messages\n */\n\n/* global vex $ */\nL.Control.Infobar = L.Control.extend({\n\tonAdd: function (map) {\n\t\tmap.on('infobar', this._onInfobar, this);\n\t},\n\n\t_onInfobar: function(e) {\n\t\tif (!e.msg)\n\t\t\treturn;\n\n\t\tvar buttons = [];\n\t\tvar callback = function() {};\n\t\tif (e.actionLabel && e.action) {\n\t\t\tbuttons.push($.extend({}, vex.dialog.buttons.YES, { text: e.actionLabel }));\n\t\t\tcallback = function (value) {\n\t\t\t\tif (value === false) // close btn clicked\n\t\t\t\t\treturn;\n\n\t\t\t\tif (e.action.startsWith('http')) { // We have a link\n\t\t\t\t\tvar win = window.open(e.action, '_blank');\n\t\t\t\t\twin.focus();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\tvex.dialog.open({\n\t\t\tmessage: e.msg,\n\t\t\tclassName: 'vex-theme-bottom-right-corner',\n\t\t\tshowCloseButton: true,\n\t\t\tbuttons: buttons,\n\t\t\tcallback: callback\n\t\t});\n\t}\n});\n\nL.control.infobar = function (options) {\n\treturn new L.Control.Infobar(options);\n};\n"]}