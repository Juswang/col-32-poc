{"version":3,"file":"Control.Toolbar.js","sourceRoot":"","sources":["../../../../../../../../browser/src/control/Control.Toolbar.js"],"names":[],"mappings":"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","sourcesContent":["/* -*- js-indent-level: 8; fill-column: 100 -*- */\n/*\n * Collabora Online toolbar\n */\n\n/* global app $ w2ui _ */\n/*eslint indent: [error, \"tab\", { \"outerIIFEBody\": 0 }]*/\n(function(global) {\n\nvar map;\n\nfunction _cancelSearch() {\n\tvar toolbar = window.mode.isMobile() ? w2ui['searchbar'] : w2ui['actionbar'];\n\tvar searchInput = L.DomUtil.get('search-input');\n\tmap.resetSelection();\n\ttoolbar.hide('cancelsearch');\n\ttoolbar.disable('searchprev');\n\ttoolbar.disable('searchnext');\n\tsearchInput.value = '';\n\tif (window.mode.isMobile()) {\n\t\tsearchInput.focus();\n\t\t// odd, but on mobile we need to invoke it twice\n\t\ttoolbar.hide('cancelsearch');\n\t}\n\n\tmap._onGotFocus();\n}\n\nfunction getUNOCommand(unoData) {\n\tif (typeof unoData !== 'object')\n\t\treturn unoData;\n\n\tif (!map._clip)\n\t\treturn unoData.textCommand;\n\n\tvar selectionType = map._clip._selectionType;\n\n\tif (!selectionType || selectionType === 'text')\n\t\treturn unoData.textCommand;\n\n\treturn unoData.objectCommand;\n}\n\nfunction onClose() {\n\tif (window.ThisIsAMobileApp) {\n\t\twindow.postMobileMessage('BYE');\n\t} else {\n\t\tmap.fire('postMessage', {msgId: 'close', args: {EverModified: map._everModified, Deprecated: true}});\n\t\tmap.fire('postMessage', {msgId: 'UI_Close', args: {EverModified: map._everModified}});\n\t}\n\tif (!map._disableDefaultAction['UI_Close']) {\n\t\tmap.remove();\n\t}\n}\n\nfunction getToolbarItemById(id) {\n\tvar item;\n\tif (w2ui['editbar'].get(id) !== null) {\n\t\tvar toolbar = w2ui['editbar'];\n\t\titem = toolbar.get(id);\n\t}\n\telse if ('actionbar' in w2ui && w2ui['actionbar'].get(id) !== null) {\n\t\ttoolbar = w2ui['actionbar'];\n\t\titem = toolbar.get(id);\n\t}\n\telse if (w2ui['searchbar'].get(id) !== null) {\n\t\ttoolbar = w2ui['searchbar'];\n\t\titem = toolbar.get(id);\n\t}\n\telse {\n\t\tthrow new Error('unknown id: ' + id);\n\t}\n\treturn item;\n}\n\nfunction onClick(e, id, item) {\n\t// dont reassign the item if we already have it\n\titem = item || getToolbarItemById(id);\n\n\tif (id === 'sidebar' || id === 'modifypage' || id === 'slidechangewindow' || id === 'customanimation' || id === 'masterslidespanel') {\n\t\twindow.initSidebarState = true;\n\t}\n\n\t// In the iOS app we don't want clicking on the toolbar to pop up the keyboard.\n\tif (!window.ThisIsTheiOSApp && id !== 'zoomin' && id !== 'zoomout' && id !== 'mobile_wizard' && id !== 'insertion_mobile_wizard') {\n\t\tmap.focus(map.canAcceptKeyboardInput()); // Maintain same keyboard state.\n\t}\n\n\tif (item.disabled) {\n\t\treturn;\n\t}\n\n\tif (item.postmessage && item.type === 'button') {\n\t\tmap.fire('postMessage', {msgId: 'Clicked_Button', args: {Id: item.id} });\n\t}\n\telse if (item.uno) {\n\t\tif (id === 'save') {\n\t\t\tmap.fire('postMessage', {msgId: 'UI_Save', args: { source: 'toolbar' }});\n\t\t}\n\t\tif (item.unosheet && map.getDocType() === 'spreadsheet') {\n\t\t\tmap.toggleCommandState(item.unosheet);\n\t\t}\n\t\telse {\n\t\t\tmap.toggleCommandState(getUNOCommand(item.uno));\n\t\t}\n\t}\n\telse if (id === 'print') {\n\t\tmap.print();\n\t}\n\telse if (id === 'save') {\n\t\t// Save only when not read-only.\n\t\tif (!map.isPermissionReadOnly()) {\n\t\t\tmap.fire('postMessage', {msgId: 'UI_Save', args: { source: 'toolbar' }});\n\t\t\tif (!map._disableDefaultAction['UI_Save']) {\n\t\t\t\tmap.save(false /* An explicit save should terminate cell edit */, false /* An explicit save should save it again */);\n\t\t\t}\n\t\t}\n\t}\n\telse if (id === 'repair') {\n\t\tapp.socket.sendMessage('commandvalues command=.uno:DocumentRepair');\n\t}\n\telse if (id === 'showsearchbar') {\n\t\t$('#toolbar-down').hide();\n\t\t$('#tb_editbar_item_showsearchbar .w2ui-button').removeClass('over');\n\t\t$('#toolbar-search').show();\n\t\tL.DomUtil.get('search-input').focus();\n\t}\n\telse if ((id === 'presentation' || id === 'fullscreen-presentation') && map.getDocType() === 'presentation') {\n\t\tmap.fire('fullscreen');\n\t}\n\telse if (id === 'insertannotation') {\n\t\tmap.insertComment();\n\t}\n\telse if (id === 'insertgraphic' || item.id === 'localgraphic') {\n\t\tL.DomUtil.get('insertgraphic').click();\n\t}\n\telse if (item.id === 'remotegraphic') {\n\t\tmap.fire('postMessage', {msgId: 'UI_InsertGraphic'});\n\t}\n\telse if (id === 'fontcolor' && typeof e.color === 'undefined') {\n\t\tmap.fire('mobilewizard', {data: getColorPickerData('Font Color')});\n\t}\n\telse if (id === 'backcolor' && typeof e.color === 'undefined') {\n\t\tmap.fire('mobilewizard', {data: getColorPickerData('Highlight Color')});\n\t}\n\telse if (id === 'fontcolor' && typeof e.color !== 'undefined') {\n\t\tonColorPick(id, e.color);\n\t}\n\telse if (id === 'backcolor' && typeof e.color !== 'undefined') {\n\t\tonColorPick(id, e.color);\n\t}\n\telse if (id === 'backgroundcolor' && typeof e.color !== 'undefined') {\n\t\tonColorPick(id, e.color);\n\t}\n\telse if (id === 'fold' || id === 'hamburger-tablet') {\n\t\tmap.uiManager.toggleMenubar();\n\t}\n\telse if (id === 'close' || id === 'closemobile') {\n\t\tmap.uiManager.enterReadonlyOrClose();\n\t}\n\telse if (id === 'link') {\n\t\tmap.showHyperlinkDialog();\n\t}\n\telse if (id === 'languagecode') {\n\t\tmap.fire('languagedialog');\n\t}\n}\n\nfunction _setBorders(left, right, bottom, top, horiz, vert, color) {\n\tvar params = {\n\t\tOuterBorder: {\n\t\t\ttype : '[]any',\n\t\t\tvalue : [\n\t\t\t\t{ type : 'com.sun.star.table.BorderLine2', value : { Color : { type : 'com.sun.star.util.Color', value : color }, InnerLineWidth : { type : 'short', value : 0 }, OuterLineWidth : { type : 'short', value : left }, LineDistance : { type : 'short', value : 0 },  LineStyle : { type : 'short', value : 0 }, LineWidth : { type : 'unsigned long', value : 0 } } },\n\t\t\t\t{ type : 'com.sun.star.table.BorderLine2', value : { Color : { type : 'com.sun.star.util.Color', value : color }, InnerLineWidth : { type : 'short', value : 0 }, OuterLineWidth : { type : 'short', value : right }, LineDistance : { type : 'short', value : 0 },  LineStyle : { type : 'short', value : 0 }, LineWidth : { type : 'unsigned long', value : 0 } } },\n\t\t\t\t{ type : 'com.sun.star.table.BorderLine2', value : { Color : { type : 'com.sun.star.util.Color', value : color }, InnerLineWidth : { type : 'short', value : 0 }, OuterLineWidth : { type : 'short', value : bottom }, LineDistance : { type : 'short', value : 0 },  LineStyle : { type : 'short', value : 0 }, LineWidth : { type : 'unsigned long', value : 0 } } },\n\t\t\t\t{ type : 'com.sun.star.table.BorderLine2', value : { Color : { type : 'com.sun.star.util.Color', value : color }, InnerLineWidth : { type : 'short', value : 0 }, OuterLineWidth : { type : 'short', value : top }, LineDistance : { type : 'short', value : 0 },  LineStyle : { type : 'short', value : 0 }, LineWidth : { type : 'unsigned long', value : 0 } } },\n\t\t\t\t{ type : 'long', value : 0 },\n\t\t\t\t{ type : 'long', value : 0 },\n\t\t\t\t{ type : 'long', value : 0 },\n\t\t\t\t{ type : 'long', value : 0 },\n\t\t\t\t{ type : 'long', value : 0 }\n\t\t\t]\n\t\t},\n\t\tInnerBorder: {\n\t\t\ttype : '[]any',\n\t\t\tvalue : [\n\t\t\t\t{ type : 'com.sun.star.table.BorderLine2', value : { Color : { type : 'com.sun.star.util.Color', value : color }, InnerLineWidth : { type : 'short', value : 0 }, OuterLineWidth : { type : 'short', value : horiz }, LineDistance : { type : 'short', value : 0 },  LineStyle : { type : 'short', value : 0 }, LineWidth : { type : 'unsigned long', value : 0 } } },\n\t\t\t\t{ type : 'com.sun.star.table.BorderLine2', value : { Color : { type : 'com.sun.star.util.Color', value : color }, InnerLineWidth : { type : 'short', value : 0 }, OuterLineWidth : { type : 'short', value : vert }, LineDistance : { type : 'short', value : 0 },  LineStyle : { type : 'short', value : 0 }, LineWidth : { type : 'unsigned long', value : 0 } } },\n\t\t\t\t{ type : 'short', value : 0 },\n\t\t\t\t{ type : 'short', value : 127 },\n\t\t\t\t{ type : 'long', value : 0 }\n\t\t\t]\n\t\t}};\n\tmap.sendUnoCommand('.uno:SetBorderStyle', params);\n}\n\n// close the popup\nfunction closePopup() {\n\tif ($('#w2ui-overlay-editbar').length > 0) {\n\t\t$('#w2ui-overlay-editbar').removeData('keepOpen')[0].hide();\n\t}\n\tmap.focus();\n}\n\nfunction setBorderStyle(num, color) {\n\tif (color === undefined)\n\t\tcolor = 0; // black\n\telse if (color.startsWith('#'))\n\t\tcolor = parseInt('0x' + color.substring(1, color.length));\n\n\tswitch (num) {\n\tcase 0: map.sendUnoCommand('.uno:FormatCellBorders'); break;\n\n\tcase 1: _setBorders(0, 0, 0, 0, 0, 0, color); break;\n\tcase 2: _setBorders(1, 0, 0, 0, 0, 0, color); break;\n\tcase 3: _setBorders(0, 1, 0, 0, 0, 0, color); break;\n\tcase 4: _setBorders(1, 1, 0, 0, 0, 0, color); break;\n\n\tcase 5: _setBorders(0, 0, 0, 1, 0, 0, color); break;\n\tcase 6: _setBorders(0, 0, 1, 0, 0, 0, color); break;\n\tcase 7: _setBorders(0, 0, 1, 1, 0, 0, color); break;\n\tcase 8: _setBorders(1, 1, 1, 1, 0, 0, color); break;\n\n\tcase 9:  _setBorders(0, 0, 1, 1, 1, 0, color); break;\n\tcase 10: _setBorders(1, 1, 1, 1, 1, 0, color); break;\n\tcase 11: _setBorders(1, 1, 1, 1, 0, 1, color); break;\n\tcase 12: _setBorders(1, 1, 1, 1, 1, 1, color); break;\n\n\tdefault: window.app.console.log('ignored border: ' + num);\n\t}\n\n\t// TODO we may consider keeping it open in the future if we add border color\n\t// and style to this popup too\n\tclosePopup();\n}\n\nglobal.setBorderStyle = setBorderStyle;\n\nfunction getBorderStyleMenuHtml() {\n\treturn '<table id=\"setborderstyle-grid\"><tr><td class=\"w2ui-tb-image w2ui-icon frame01\" onclick=\"setBorderStyle(1)\"></td>' +\n\t'<td class=\"w2ui-tb-image w2ui-icon frame02\" onclick=\"setBorderStyle(2)\"></td><td class=\"w2ui-tb-image w2ui-icon frame03\" onclick=\"setBorderStyle(3)\"></td>' +\n\t'<td class=\"w2ui-tb-image w2ui-icon frame04\" onclick=\"setBorderStyle(4)\"></td></tr><tr><td class=\"w2ui-tb-image w2ui-icon frame05\" onclick=\"setBorderStyle(5)\"></td>' +\n\t'<td class=\"w2ui-tb-image w2ui-icon frame06\" onclick=\"setBorderStyle(6)\"></td><td class=\"w2ui-tb-image w2ui-icon frame07\" onclick=\"setBorderStyle(7)\"></td>' +\n\t'<td class=\"w2ui-tb-image w2ui-icon frame08\" onclick=\"setBorderStyle(8)\"></td></tr><tr><td class=\"w2ui-tb-image w2ui-icon frame09\" onclick=\"setBorderStyle(9)\"></td>' +\n\t'<td class=\"w2ui-tb-image w2ui-icon frame10\" onclick=\"setBorderStyle(10)\"></td><td class=\"w2ui-tb-image w2ui-icon frame11\" onclick=\"setBorderStyle(11)\"></td>' +\n\t'<td class=\"w2ui-tb-image w2ui-icon frame12\" onclick=\"setBorderStyle(12)\"></td></tr><tr>' +\n\t'<td colspan=\"4\" class=\"w2ui-tb-image w2ui-icon frame13\" onclick=\"setBorderStyle(0)\"><div id=\"div-frame13\">' + _('More...') + '</div></td></tr></table>';\n}\n\nglobal.getBorderStyleMenuHtml = getBorderStyleMenuHtml;\n\nfunction setConditionalFormatIconSet(num) {\n\tvar params = {\n\t\tIconSet: {\n\t\t\ttype : 'short',\n\t\t\tvalue : num\n\t\t}};\n\tmap.sendUnoCommand('.uno:IconSetFormatDialog', params);\n\n\tclosePopup();\n}\n\nglobal.setConditionalFormatIconSet = setConditionalFormatIconSet;\n\nfunction getConditionalFormatMenuHtml(more) {\n\tvar table = '<table id=\"conditionalformatmenu-grid\"><tr>' +\n\t'<td class=\"w2ui-tb-image w2ui-icon iconset00\" onclick=\"setConditionalFormatIconSet(0)\"/><td class=\"w2ui-tb-image w2ui-icon iconset01\" onclick=\"setConditionalFormatIconSet(1)\"/><td class=\"w2ui-tb-image w2ui-icon iconset02\" onclick=\"setConditionalFormatIconSet(2)\"/></tr><tr>' +\n\t'<td class=\"w2ui-tb-image w2ui-icon iconset03\" onclick=\"setConditionalFormatIconSet(3)\"/><td class=\"w2ui-tb-image w2ui-icon iconset04\" onclick=\"setConditionalFormatIconSet(4)\"/><td class=\"w2ui-tb-image w2ui-icon iconset05\" onclick=\"setConditionalFormatIconSet(5)\"/></tr><tr>' +\n\t'<td class=\"w2ui-tb-image w2ui-icon iconset06\" onclick=\"setConditionalFormatIconSet(6)\"/><td class=\"w2ui-tb-image w2ui-icon iconset08\" onclick=\"setConditionalFormatIconSet(8)\"/><td class=\"w2ui-tb-image w2ui-icon iconset09\" onclick=\"setConditionalFormatIconSet(9)\"/></tr><tr>' + // iconset07 deliberately left out, see the .css for the reason\n\t'<td class=\"w2ui-tb-image w2ui-icon iconset10\" onclick=\"setConditionalFormatIconSet(10)\"/><td class=\"w2ui-tb-image w2ui-icon iconset11\" onclick=\"setConditionalFormatIconSet(11)\"/><td class=\"w2ui-tb-image w2ui-icon iconset12\" onclick=\"setConditionalFormatIconSet(12)\"/></tr><tr>' +\n\t'<td class=\"w2ui-tb-image w2ui-icon iconset13\" onclick=\"setConditionalFormatIconSet(13)\"/><td class=\"w2ui-tb-image w2ui-icon iconset14\" onclick=\"setConditionalFormatIconSet(14)\"/><td class=\"w2ui-tb-image w2ui-icon iconset15\" onclick=\"setConditionalFormatIconSet(15)\"/></tr><tr>' +\n\t'<td class=\"w2ui-tb-image w2ui-icon iconset16\" onclick=\"setConditionalFormatIconSet(16)\"/><td class=\"w2ui-tb-image w2ui-icon iconset17\" onclick=\"setConditionalFormatIconSet(17)\"/><td class=\"w2ui-tb-image w2ui-icon iconset18\" onclick=\"setConditionalFormatIconSet(18)\"/></tr><tr>' +\n\t'<td class=\"w2ui-tb-image w2ui-icon iconset19\" onclick=\"setConditionalFormatIconSet(19)\"/><td class=\"w2ui-tb-image w2ui-icon iconset20\" onclick=\"setConditionalFormatIconSet(20)\"/><td class=\"w2ui-tb-image w2ui-icon iconset21\" onclick=\"setConditionalFormatIconSet(21)\"/></tr>';\n\tif (more) {\n\t\ttable += '<tr><td id=\"' + more + '\">' + _('More...') + '</td></tr>';\n\t}\n\ttable += '</table>';\n\treturn table;\n}\n\nglobal.getConditionalFormatMenuHtml = getConditionalFormatMenuHtml;\n\nfunction getInsertTablePopupHtml() {\n\treturn '<div id=\"inserttable-wrapper\">\\\n\t\t\t\t\t<div id=\"inserttable-popup\" class=\"inserttable-pop ui-widget ui-corner-all\">\\\n\t\t\t\t\t\t<div class=\"inserttable-grid\"></div>\\\n\t\t\t\t\t\t<div id=\"inserttable-status\" class=\"cool-font\" style=\"padding: 5px;\"><br/></div>\\\n\t\t\t\t\t</div>\\\n\t\t\t\t</div>';\n}\n\nfunction insertTable() {\n\tvar rows = 10;\n\tvar cols = 10;\n\tvar $grid = $('.inserttable-grid');\n\tvar $status = $('#inserttable-status');\n\n\t// init\n\tfor (var r = 0; r < rows; r++) {\n\t\tvar $row = $('<div/>').addClass('row');\n\t\t$grid.append($row);\n\t\tfor (var c = 0; c < cols; c++) {\n\t\t\tvar $col = $('<div/>').addClass('col');\n\t\t\t$row.append($col);\n\t\t}\n\t}\n\n\t// events\n\t$grid.on({\n\t\tmouseover: function () {\n\t\t\tvar col = $(this).index() + 1;\n\t\t\tvar row = $(this).parent().index() + 1;\n\t\t\t$('.col').removeClass('bright');\n\t\t\t$('.row:nth-child(-n+' + row + ') .col:nth-child(-n+' + col + ')')\n\t\t\t\t.addClass('bright');\n\t\t\t$status.html(col + 'x' + row);\n\n\t\t},\n\t\tclick: function() {\n\t\t\tvar col = $(this).index() + 1;\n\t\t\tvar row = $(this).parent().index() + 1;\n\t\t\t$('.col').removeClass('bright');\n\t\t\t$status.html('<br/>');\n\t\t\tvar msg = 'uno .uno:InsertTable {' +\n\t\t\t\t' \"Columns\": { \"type\": \"long\",\"value\": '\n\t\t\t\t+ col +\n\t\t\t\t' }, \"Rows\": { \"type\": \"long\",\"value\": '\n\t\t\t\t+ row + ' }}';\n\n\t\t\tapp.socket.sendMessage(msg);\n\n\t\t\tclosePopup();\n\t\t}\n\t}, '.col');\n}\n\nvar shapes = {\n\t'insertshapes': {\n\t\t'Basic Shapes': [\n\t\t\t{img: 'basicshapes_rectangle', uno: 'BasicShapes.rectangle'},\n\t\t\t{img: 'basicshapes_round-rectangle', uno: 'BasicShapes.round-rectangle'},\n\t\t\t{img: 'basicshapes_quadrat', uno: 'BasicShapes.quadrat'},\n\t\t\t{img: 'basicshapes_round-quadrat', uno: 'BasicShapes.round-quadrat'},\n\t\t\t{img: 'basicshapes_circle', uno: 'BasicShapes.circle'},\n\t\t\t{img: 'basicshapes_ellipse', uno: 'BasicShapes.ellipse'},\n\n\t\t\t{img: 'basicshapes_circle-pie', uno: 'BasicShapes.circle-pie'},\n\t\t\t{img: 'basicshapes_isosceles-triangle', uno: 'BasicShapes.isosceles-triangle'},\n\t\t\t{img: 'basicshapes_right-triangle', uno: 'BasicShapes.right-triangle'},\n\t\t\t{img: 'basicshapes_trapezoid', uno: 'BasicShapes.trapezoid'},\n\t\t\t{img: 'basicshapes_diamond', uno: 'BasicShapes.diamond'},\n\t\t\t{img: 'basicshapes_parallelogram', uno: 'BasicShapes.parallelogram'},\n\n\t\t\t{img: 'basicshapes_pentagon', uno: 'BasicShapes.pentagon'},\n\t\t\t{img: 'basicshapes_hexagon', uno: 'BasicShapes.hexagon'},\n\t\t\t{img: 'basicshapes_octagon', uno: 'BasicShapes.octagon'},\n\t\t\t{img: 'basicshapes_cross', uno: 'BasicShapes.cross'},\n\t\t\t{img: 'basicshapes_ring', uno: 'BasicShapes.ring'},\n\t\t\t{img: 'basicshapes_block-arc', uno: 'BasicShapes.block-arc'},\n\n\t\t\t{img: 'basicshapes_can', uno: 'BasicShapes.can'},\n\t\t\t{img: 'basicshapes_cube', uno: 'BasicShapes.cube'},\n\t\t\t{img: 'basicshapes_paper', uno: 'BasicShapes.paper'},\n\t\t\t{img: 'basicshapes_frame', uno: 'BasicShapes.frame'}\n\t\t],\n\n\t\t'Symbol Shapes':  [\n\t\t\t{img: 'symbolshapes', uno: 'SymbolShapes.smiley'},\n\t\t\t{img: 'symbolshapes_sun', uno: 'SymbolShapes.sun'},\n\t\t\t{img: 'symbolshapes_moon', uno: 'SymbolShapes.moon'},\n\t\t\t{img: 'symbolshapes_lightning', uno: 'SymbolShapes.lightning'},\n\t\t\t{img: 'symbolshapes_heart', uno: 'SymbolShapes.heart'},\n\t\t\t{img: 'symbolshapes_flower', uno: 'SymbolShapes.flower'},\n\n\t\t\t{img: 'symbolshapes_cloud', uno: 'SymbolShapes.cloud'},\n\t\t\t{img: 'symbolshapes_forbidden', uno: 'SymbolShapes.forbidden'},\n\t\t\t{img: 'symbolshapes_puzzle', uno: 'SymbolShapes.puzzle'},\n\t\t\t{img: 'symbolshapes_bracket-pair', uno: 'SymbolShapes.bracket-pair'},\n\t\t\t{img: 'symbolshapes_left-bracket', uno: 'SymbolShapes.left-bracket'},\n\t\t\t{img: 'symbolshapes_right-bracket', uno: 'SymbolShapes.right-bracket'},\n\n\t\t\t{img: 'symbolshapes_brace-pair', uno: 'SymbolShapes.brace-pair'},\n\t\t\t{img: 'symbolshapes_left-brace', uno: 'SymbolShapes.left-brace'},\n\t\t\t{img: 'symbolshapes_right-brace', uno: 'SymbolShapes.right-brace'},\n\t\t\t{img: 'symbolshapes_quad-bevel', uno: 'SymbolShapes.quad-bevel'},\n\t\t\t{img: 'symbolshapes_octagon-bevel', uno: 'SymbolShapes.octagon-bevel'},\n\t\t\t{img: 'symbolshapes_diamond-bevel', uno: 'SymbolShapes.diamond-bevel'}\n\t\t],\n\n\t\t'Block Arrows': [\n\t\t\t{img: 'arrowshapes_left-arrow', uno: 'ArrowShapes.left-arrow'},\n\t\t\t{img: 'arrowshapes_right-arrow', uno: 'ArrowShapes.right-arrow'},\n\t\t\t{img: 'arrowshapes_up-arrow', uno: 'ArrowShapes.up-arrow'},\n\t\t\t{img: 'arrowshapes_down-arrow', uno: 'ArrowShapes.down-arrow'},\n\t\t\t{img: 'arrowshapes_left-right-arrow', uno: 'ArrowShapes.left-right-arrow'},\n\t\t\t{img: 'arrowshapes_up-down-arrow', uno: 'ArrowShapes.up-down-arrow'},\n\n\t\t\t{img: 'arrowshapes_up-right-arrow', uno: 'ArrowShapes.up-right-arrow'},\n\t\t\t{img: 'arrowshapes_up-right-down-arrow', uno: 'ArrowShapes.up-right-down-arrow'},\n\t\t\t{img: 'arrowshapes_quad-arrow', uno: 'ArrowShapes.quad-arrow'},\n\t\t\t{img: 'arrowshapes_corner-right-arrow', uno: 'ArrowShapes.corner-right-arrow'},\n\t\t\t{img: 'arrowshapes_split-arrow', uno: 'ArrowShapes.split-arrow'},\n\t\t\t{img: 'arrowshapes_striped-right-arrow', uno: 'ArrowShapes.striped-right-arrow'},\n\n\t\t\t{img: 'arrowshapes_notched-right-arrow', uno: 'ArrowShapes.notched-right-arrow'},\n\t\t\t{img: 'arrowshapes_pentagon-right', uno: 'ArrowShapes.pentagon-right'},\n\t\t\t{img: 'arrowshapes_chevron', uno: 'ArrowShapes.chevron'},\n\t\t\t{img: 'arrowshapes_right-arrow-callout', uno: 'ArrowShapes.right-arrow-callout'},\n\t\t\t{img: 'arrowshapes_left-arrow-callout', uno: 'ArrowShapes.left-arrow-callout'},\n\t\t\t{img: 'arrowshapes_up-arrow-callout', uno: 'ArrowShapes.up-arrow-callout'},\n\n\t\t\t{img: 'arrowshapes_down-arrow-callout', uno: 'ArrowShapes.down-arrow-callout'},\n\t\t\t{img: 'arrowshapes_left-right-arrow-callout', uno: 'ArrowShapes.left-right-arrow-callout'},\n\t\t\t{img: 'arrowshapes_up-down-arrow-callout', uno: 'ArrowShapes.up-down-arrow-callout'},\n\t\t\t{img: 'arrowshapes_up-right-arrow-callout', uno: 'ArrowShapes.up-right-arrow-callout'},\n\t\t\t{img: 'arrowshapes_quad-arrow-callout', uno: 'ArrowShapes.quad-arrow-callout'},\n\t\t\t{img: 'arrowshapes_circular-arrow', uno: 'ArrowShapes.circular-arrow'},\n\n\t\t\t{img: 'arrowshapes_split-round-arrow', uno: 'ArrowShapes.split-round-arrow'},\n\t\t\t{img: 'arrowshapes_s-sharped-arrow', uno: 'ArrowShapes.s-sharped-arrow'}\n\t\t],\n\n\t\t'Stars and Banners': [\n\t\t\t{img: 'starshapes_bang', uno: 'StarShapes.bang'},\n\t\t\t{img: 'starshapes_star4', uno: 'StarShapes.star4'},\n\t\t\t{img: 'starshapes_star5', uno: 'StarShapes.star5'},\n\t\t\t{img: 'starshapes_star6', uno: 'StarShapes.star6'},\n\t\t\t{img: 'starshapes_star8', uno: 'StarShapes.star8'},\n\t\t\t{img: 'starshapes_star12', uno: 'StarShapes.star12'},\n\n\t\t\t{img: 'starshapes_star24', uno: 'StarShapes.star24'},\n\t\t\t{img: 'starshapes_concave-star6', uno: 'StarShapes.concave-star6'},\n\t\t\t{img: 'starshapes_vertical-scroll', uno: 'StarShapes.vertical-scroll'},\n\t\t\t{img: 'starshapes_horizontal-scroll', uno: 'StarShapes.horizontal-scroll'},\n\t\t\t{img: 'starshapes_signet', uno: 'StarShapes.signet'},\n\t\t\t{img: 'starshapes_doorplate', uno: 'StarShapes.doorplate'}\n\t\t],\n\n\t\t'Callouts': [\n\t\t\t{img: 'calloutshapes_rectangular-callout', uno: 'CalloutShapes.rectangular-callout'},\n\t\t\t{img: 'calloutshapes_round-rectangular-callout', uno: 'CalloutShapes.round-rectangular-callout'},\n\t\t\t{img: 'calloutshapes_round-callout', uno: 'CalloutShapes.round-callout'},\n\t\t\t{img: 'calloutshapes_cloud-callout', uno: 'CalloutShapes.cloud-callout'},\n\t\t\t{img: 'calloutshapes_line-callout-1', uno: 'CalloutShapes.line-callout-1'},\n\t\t\t{img: 'calloutshapes_line-callout-2', uno: 'CalloutShapes.line-callout-2'},\n\t\t\t{img: 'calloutshapes_line-callout-3', uno: 'CalloutShapes.line-callout-3'}\n\t\t],\n\n\t\t'Flowchart': [\n\t\t\t{img: 'flowchartshapes_flowchart-process', uno: 'FlowchartShapes.flowchart-process'},\n\t\t\t{img: 'flowchartshapes_flowchart-alternate-process', uno: 'FlowchartShapes.flowchart-alternate-process'},\n\t\t\t{img: 'flowchartshapes_flowchart-decision', uno: 'FlowchartShapes.flowchart-decision'},\n\t\t\t{img: 'flowchartshapes_flowchart-data', uno: 'FlowchartShapes.flowchart-data'},\n\t\t\t{img: 'flowchartshapes_flowchart-predefined-process', uno: 'FlowchartShapes.flowchart-predefined-process'},\n\t\t\t{img: 'flowchartshapes_flowchart-internal-storage', uno: 'FlowchartShapes.flowchart-internal-storage'},\n\n\t\t\t{img: 'flowchartshapes_flowchart-document', uno: 'FlowchartShapes.flowchart-document'},\n\t\t\t{img: 'flowchartshapes_flowchart-multidocument', uno: 'FlowchartShapes.flowchart-multidocument'},\n\t\t\t{img: 'flowchartshapes_flowchart-terminator', uno: 'FlowchartShapes.flowchart-terminator'},\n\t\t\t{img: 'flowchartshapes_flowchart-preparation', uno: 'FlowchartShapes.flowchart-preparation'},\n\t\t\t{img: 'flowchartshapes_flowchart-manual-input', uno: 'FlowchartShapes.flowchart-manual-input'},\n\t\t\t{img: 'flowchartshapes_flowchart-manual-operation', uno: 'FlowchartShapes.flowchart-manual-operation'},\n\n\t\t\t{img: 'flowchartshapes_flowchart-connector', uno: 'FlowchartShapes.flowchart-connector'},\n\t\t\t{img: 'flowchartshapes_flowchart-off-page-connector', uno: 'FlowchartShapes.flowchart-off-page-connector'},\n\t\t\t{img: 'flowchartshapes_flowchart-card', uno: 'FlowchartShapes.flowchart-card'},\n\t\t\t{img: 'flowchartshapes_flowchart-punched-tape', uno: 'FlowchartShapes.flowchart-punched-tape'},\n\t\t\t{img: 'flowchartshapes_flowchart-summing-junction', uno: 'FlowchartShapes.flowchart-summing-junction'},\n\t\t\t{img: 'flowchartshapes_flowchart-or', uno: 'FlowchartShapes.flowchart-or'},\n\n\t\t\t{img: 'flowchartshapes_flowchart-collate', uno: 'FlowchartShapes.flowchart-collate'},\n\t\t\t{img: 'flowchartshapes_flowchart-sort', uno: 'FlowchartShapes.flowchart-sort'},\n\t\t\t{img: 'flowchartshapes_flowchart-extract', uno: 'FlowchartShapes.flowchart-extract'},\n\t\t\t{img: 'flowchartshapes_flowchart-merge', uno: 'FlowchartShapes.flowchart-merge'},\n\t\t\t{img: 'flowchartshapes_flowchart-stored-data', uno: 'FlowchartShapes.flowchart-stored-data'},\n\t\t\t{img: 'flowchartshapes_flowchart-delay', uno: 'FlowchartShapes.flowchart-delay'},\n\n\t\t\t{img: 'flowchartshapes_flowchart-sequential-access', uno: 'FlowchartShapes.flowchart-sequential-access'},\n\t\t\t{img: 'flowchartshapes_flowchart-magnetic-disk', uno: 'FlowchartShapes.flowchart-magnetic-disk'},\n\t\t\t{img: 'flowchartshapes_flowchart-direct-access-storage', uno: 'FlowchartShapes.flowchart-direct-access-storage'},\n\t\t\t{img: 'flowchartshapes_flowchart-display', uno: 'FlowchartShapes.flowchart-display'}\n\t\t]\n\t},\n\t'insertconnectors': {\n\t\t'Connectors': [\n\t\t\t{img: 'connectors_connector', uno: 'Connector'},\n\t\t\t{img: 'connectors_connectorarrows', uno: 'ConnectorArrows'},\n\t\t\t{img: 'connectors_connectorarrowend', uno: 'ConnectorArrowEnd'},\n\t\t\t{img: 'connectors_connectorlinearrowend', uno: 'ConnectorLineArrowEnd'},\n\t\t\t{img: 'connectors_connectorcurvearrowend', uno: 'ConnectorCurveArrowEnd'},\n\t\t\t{img: 'connectors_connectorlinesarrowend', uno: 'ConnectorLinesArrowEnd'},\n\t\t\t{img: 'connectors_connectorline', uno: 'ConnectorLine'},\n\t\t\t{img: 'connectors_connectorcurve', uno: 'ConnectorCurve'},\n\t\t\t{img: 'connectors_connectorlines', uno: 'ConnectorLines'},\n\t\t\t{img: 'connectors_connectorlinearrows', uno: 'ConnectorLineArrows'},\n\t\t\t{img: 'connectors_connectorcurvearrows', uno: 'ConnectorCurvearrows'}\n\t\t]\n\t}\n};\n\nfunction createShapesPanel(shapeType) {\n\tvar $grid = $('<div/>').addClass('insertshape-grid');\n\tvar collection = shapes[shapeType];\n\n\tfor (var s in collection) {\n\t\tvar $rowHeader = $('<div/>').addClass('row-header cool-font').append(_(s));\n\t\t$grid.append($rowHeader);\n\t\tvar $row = $('<div/>').addClass('row');\n\t\t$grid.append($row);\n\t\tfor (var idx = 0; idx < collection[s].length; ++idx) {\n\t\t\tvar shape = collection[s][idx];\n\t\t\tvar $col = $('<div/>').addClass('col w2ui-icon').addClass(shape.img);\n\t\t\t$col.data('uno', shape.uno);\n\t\t\t$row.append($col);\n\t\t}\n\t}\n\n\t$grid.on({\n\t\tclick: function(e) {\n\t\t\tmap.sendUnoCommand('.uno:' + $(e.target).data().uno);\n\t\t\tmap._docLayer._closeMobileWizard();\n\t\t}\n\t});\n\n\treturn $grid.get(0);\n}\n\nfunction insertShapes(shapeType) {\n\tvar width = 10;\n\tvar $grid = $('.insertshape-grid');\n\n\tif (window.mode.isDesktop() || window.mode.isTablet())\n\t\t$grid.css('margin-botttom', '0px');\n\n\tif ($grid.children().length > 0)\n\t\treturn;\n\n\tvar collection = shapes[shapeType];\n\n\tfor (var s in collection) {\n\t\tvar $rowHeader = $('<div/>').addClass('row-header cool-font').append(_(s));\n\t\t$grid.append($rowHeader);\n\n\t\tvar rows = Math.ceil(collection[s].length / width);\n\t\tvar idx = 0;\n\t\tfor (var r = 0; r < rows; r++) {\n\t\t\tvar $row = $('<div/>').addClass('row');\n\t\t\t$grid.append($row);\n\t\t\tfor (var c = 0; c < width; c++) {\n\t\t\t\tif (idx >= collection[s].length) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tvar shape = collection[s][idx++];\n\t\t\t\tvar $col = $('<div/>').addClass('col w2ui-icon').addClass(shape.img);\n\t\t\t\t$col.data('uno', shape.uno);\n\t\t\t\t$row.append($col);\n\t\t\t}\n\n\t\t\tif (idx >= collection[s].length)\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t$grid.on({\n\t\tclick: function(e) {\n\t\t\tmap.sendUnoCommand('.uno:' + $(e.target).data().uno);\n\t\t\tclosePopup();\n\t\t}\n\t});\n}\n\nfunction getShapesPopupHtml() {\n\treturn '<div id=\"insertshape-wrapper\">\\\n\t\t\t\t<div id=\"insertshape-popup\" class=\"insertshape-pop ui-widget ui-corner-all\">\\\n\t\t\t\t\t<div class=\"insertshape-grid\"></div>\\\n\t\t\t\t</div>\\\n\t\t\t</div>';\n}\n\nfunction showColorPicker(id) {\n\tvar it = w2ui['editbar'].get(id);\n\tvar obj = w2ui['editbar'];\n\tvar el = '#tb_editbar_item_' + id;\n\tif (it.transparent == null) it.transparent = true;\n\t$(el).w2color({ color: it.color, transparent: it.transparent }, function (color) {\n\t\tif (color != null) {\n\t\t\tobj.colorClick({ name: obj.name, item: it, color: color });\n\t\t}\n\t\tclosePopup();\n\t});\n}\n\nfunction getColorPickerHTML(id) {\n\treturn '<div id=\"' + id +'-wrapper' + '\">\\\n\t\t\t</div>';\n}\n\nfunction getColorPickerData(type) {\n\tvar uno;\n\tif (type === 'Font Color') {\n\t\tif (map.getDocType() === 'spreadsheet' ||\n\t\t    map.getDocType() === 'presentation')\n\t\t\tuno = '.uno:Color';\n\t\telse\n\t\t\tuno = '.uno:FontColor';\n\t} else if (type === 'Highlight Color') {\n\t\tif (map.getDocType() === 'spreadsheet')\n\t\t\tuno = '.uno:BackgroundColor';\n\t\telse if (map.getDocType() === 'presentation')\n\t\t\tuno = '.uno:CharBackColor';\n\t\telse\n\t\t\tuno = '.uno:BackColor';\n\t}\n\tvar data = {\n\t\tid: 'colorpicker',\n\t\ttype: 'window',\n\t\ttext: _(type),\n\t\tenabled: 'true',\n\t\tchildren: [\n\t\t\t{\n\t\t\t\ttype: 'toolitem',\n\t\t\t\ttext: '',\n\t\t\t\tcommand: uno,\n\t\t\t\tnosubmenu: true\n\t\t\t}\n\t\t],\n\t\tvertical: 'true'\n\t};\n\treturn data;\n}\n\nfunction onColorPick(id, color) {\n\tif (!map.isPermissionEdit()) {\n\t\treturn;\n\t}\n\t// no fill or automatic color is -1\n\tif (color === '') {\n\t\tcolor = -1;\n\t}\n\t// transform from #FFFFFF to an Int\n\telse {\n\t\tcolor = parseInt(color.replace('#', ''), 16);\n\t}\n\tvar command = {};\n\tvar fontcolor, backcolor;\n\tif (id === 'fontcolor') {\n\t\tfontcolor = {'text': 'FontColor',\n\t\t\t     'spreadsheet': 'Color',\n\t\t\t     'presentation': 'Color'}[map.getDocType()];\n\t\tcommand[fontcolor] = {};\n\t\tcommand[fontcolor].type = 'long';\n\t\tcommand[fontcolor].value = color;\n\t\tvar uno = '.uno:' + fontcolor;\n\t}\n\t// \"backcolor\" can be used in Writer and Impress and translates to \"Highlighting\" while\n\t// \"backgroundcolor\" can be used in Writer and Calc and translates to \"Background color\".\n\telse if (id === 'backcolor') {\n\t\tbackcolor = {'text': 'BackColor',\n\t\t\t     'presentation': 'CharBackColor'}[map.getDocType()];\n\t\tcommand[backcolor] = {};\n\t\tcommand[backcolor].type = 'long';\n\t\tcommand[backcolor].value = color;\n\t\tuno = '.uno:' + backcolor;\n\t}\n\telse if (id === 'backgroundcolor') {\n\t\tbackcolor = {'text': 'BackgroundColor',\n\t\t\t     'spreadsheet': 'BackgroundColor'}[map.getDocType()];\n\t\tcommand[backcolor] = {};\n\t\tcommand[backcolor].type = 'long';\n\t\tcommand[backcolor].value = color;\n\t\tuno = '.uno:' + backcolor;\n\t}\n\tmap.sendUnoCommand(uno, command);\n\tmap.focus();\n}\n\nfunction hideTooltip(toolbar, id) {\n\tif (toolbar.touchStarted) {\n\t\tsetTimeout(function() {\n\t\t\ttoolbar.tooltipHide(id, {});\n\t\t}, 5000);\n\t\ttoolbar.touchStarted = false;\n\t}\n}\n\nfunction setupSearchInput() {\n\t$('#search-input').off('input', onSearchInput).on('input', onSearchInput);\n\t$('#search-input').off('keydown', onSearchKeyDown).on('keydown', onSearchKeyDown);\n\t$('#search-input').off('focus', onSearchFocus).on('focus', onSearchFocus);\n\t$('#search-input').off('blur', onSearchBlur).on('blur', onSearchBlur);\n}\n\nfunction unoCmdToToolbarId(commandname)\n{\n\tvar id = commandname.toLowerCase().substr(5);\n\tvar selectionType = 'text';\n\n\tif (map._clip && map._clip._selectionType)\n\t\tselectionType = map._clip._selectionType;\n\n\tif (map.getDocType() === 'spreadsheet') {\n\t\tswitch (id) {\n\t\tcase 'alignleft':\n\t\t\tid = 'leftpara';\n\t\t\tbreak;\n\t\tcase 'alignhorizontalcenter':\n\t\t\tid = 'centerpara';\n\t\t\tbreak;\n\t\tcase 'alignright':\n\t\t\tid = 'rightpara';\n\t\t\tbreak;\n\t\t}\n\t}\n\telse if (selectionType == 'complex') {\n\n\t\t// ignore the text align state messages.\n\t\tif (id === 'leftpara' || id === 'rightpara' ||\n\t\t\tid === 'centerpara') {\n\t\t\tid = '';\n\t\t}\n\n\t\t// convert the object align statemessages to align button ids.\n\t\tswitch (id) {\n\t\tcase 'objectalignleft':\n\t\t\tid = 'leftpara';\n\t\t\tbreak;\n\t\tcase 'aligncenter':\n\t\t\tid = 'centerpara';\n\t\t\tbreak;\n\t\tcase 'objectalignright':\n\t\t\tid = 'rightpara';\n\t\t\tbreak;\n\t\t}\n\t}\n\telse if (id === 'objectalignleft' || id === 'aligncenter' ||\n\t\tid === 'objectalignright') {\n\t\t// selectionType is 'text', so ignore object align state messages.\n\t\tid = '';\n\t}\n\n\tif (id === 'hyperlinkdialog')\n\t\tid = 'link';\n\n\treturn id;\n}\n\nfunction updateSearchButtons() {\n\tvar toolbar = window.mode.isMobile() ? w2ui['searchbar'] : w2ui['actionbar'];\n\t// conditionally disabling until, we find a solution for tdf#108577\n\tif (L.DomUtil.get('search-input').value === '') {\n\t\ttoolbar.disable('searchprev');\n\t\ttoolbar.disable('searchnext');\n\t\ttoolbar.hide('cancelsearch');\n\t}\n\telse {\n\t\ttoolbar.enable('searchprev');\n\t\ttoolbar.enable('searchnext');\n\t\ttoolbar.show('cancelsearch');\n\t}\n}\n\nfunction onSearchInput() {\n\tupdateSearchButtons();\n\tif (map.getDocType() === 'text') {\n\t\t// perform the immediate search in Writer\n\t\tmap.search(L.DomUtil.get('search-input').value, false, '', 0, true /* expand search */);\n\t}\n}\n\nfunction onSearchKeyDown(e) {\n\tvar entry = L.DomUtil.get('search-input');\n\tif ((e.keyCode === 71 && e.ctrlKey) || e.keyCode === 114 || e.keyCode === 13) {\n\t\tif (e.shiftKey) {\n\t\t\tmap.search(entry.value, true);\n\t\t} else {\n\t\t\tmap.search(entry.value);\n\t\t}\n\t\te.preventDefault();\n\t} else if (e.ctrlKey && e.keyCode === 70) {\n\t\tentry.focus();\n\t\tentry.select();\n\t\te.originalEvent.preventDefault();\n\t} else if (e.keyCode === 27) {\n\t\t_cancelSearch();\n\t}\n}\n\nfunction onSearchFocus() {\n\t// Start searching.\n\tmap.fire('searchstart');\n\n\tupdateSearchButtons();\n}\n\nfunction onSearchBlur() {\n\tmap._onGotFocus();\n}\n\nfunction onInsertFile() {\n\tvar insertGraphic = L.DomUtil.get('insertgraphic');\n\tif ('files' in insertGraphic) {\n\t\tfor (var i = 0; i < insertGraphic.files.length; i++) {\n\t\t\tvar file = insertGraphic.files[i];\n\t\t\tmap.insertFile(file);\n\t\t}\n\t}\n\n\t// Set the value to null everytime so that onchange event is triggered,\n\t// even if the same file is selected\n\tinsertGraphic.value = null;\n\treturn false;\n}\n\nfunction onInsertBackground() {\n\tvar selectBackground = L.DomUtil.get('selectbackground');\n\tif ('files' in selectBackground) {\n\t\tfor (var i = 0; i < selectBackground.files.length; i++) {\n\t\t\tvar file = selectBackground.files[i];\n\t\t\tmap.selectBackground(file);\n\t\t}\n\t}\n\n\t// Set the value to null everytime so that onchange event is triggered,\n\t// even if the same file is selected\n\tselectBackground.value = null;\n\treturn false;\n}\n\nfunction onWopiProps(e) {\n\tif (e.DisableCopy) {\n\t\t$('input#formulaInput').bind('copy', function(evt) {\n\t\t\tevt.preventDefault();\n\t\t});\n\t\t$('input#addressInput').bind('copy', function(evt) {\n\t\t\tevt.preventDefault();\n\t\t});\n\t}\n}\n\nfunction processStateChangedCommand(commandName, state) {\n\tvar toolbar = w2ui['editbar'];\n\tvar color, div;\n\n\tif (!commandName)\n\t\treturn;\n\n\tif (commandName === '.uno:AssignLayout') {\n\t\t$('.styles-select').val(state).trigger('change');\n\t}\n\telse if (commandName === '.uno:FontColor' || commandName === '.uno:Color') {\n\t\t// confusingly, the .uno: command is named differently in Writer, Calc and Impress\n\t\tcolor = parseInt(state);\n\t\tif (color === -1) {\n\t\t\tcolor = 'transparent';\n\t\t}\n\t\telse {\n\t\t\tcolor = color.toString(16);\n\t\t\tcolor = '#' + Array(7 - color.length).join('0') + color;\n\t\t}\n\t\t$('#tb_editbar_item_fontcolor .w2ui-tb-image').css('box-shadow', 'inset 0 -2px #ffffff, inset 0px -6px ' + color);\n\t\t$('#tb_editbar_item_fontcolor .w2ui-tb-caption').css('display', 'none');\n\n\t\tdiv = L.DomUtil.get('fontcolorindicator');\n\t\tif (div) {\n\t\t\tL.DomUtil.setStyle(div, 'background', color);\n\t\t}\n\t}\n\telse if (commandName === '.uno:BackColor' || commandName === '.uno:BackgroundColor' || commandName === '.uno:CharBackColor') {\n\t\t// confusingly, the .uno: command is named differently in Writer, Calc and Impress\n\t\tcolor = parseInt(state);\n\t\tif (color === -1) {\n\t\t\tcolor = 'transparent';\n\t\t}\n\t\telse {\n\t\t\tcolor = color.toString(16);\n\t\t\tcolor = '#' + Array(7 - color.length).join('0') + color;\n\t\t}\n\t\t//writer\n\t\t$('#tb_editbar_item_backcolor .w2ui-tb-image').css('box-shadow', 'inset 0 -2px #ffffff, inset 0px -6px ' + color);\n\t\t$('#tb_editbar_item_backcolor .w2ui-tb-caption').css('display', 'none');\n\t\t//calc?\n\t\t$('#tb_editbar_item_backgroundcolor .w2ui-tb-image').css('box-shadow', 'inset 0 -2px #ffffff, inset 0px -6px ' + color);\n\t\t$('#tb_editbar_item_backgroundcolor .w2ui-tb-caption').css('display', 'none');\n\n\t\tdiv = L.DomUtil.get('backcolorindicator');\n\t\tif (div) {\n\t\t\tL.DomUtil.setStyle(div, 'background', color);\n\t\t}\n\t}\n\telse if (commandName === '.uno:LanguageStatus') {\n\t\tvar code = state;\n\t\tvar split = code.split(';');\n\t\tif (split.length > 1) {\n\t\t\tcode = split[1];\n\t\t}\n\t\tw2ui['editbar'].set('languagecode', {text: code});\n\t}\n\telse if (commandName === '.uno:ModifiedStatus') {\n\t\tif (state === 'true') {\n\t\t\tw2ui['editbar'].set('save', {img:'savemodified'});\n\t\t}\n\t\telse {\n\t\t\tw2ui['editbar'].set('save', {img:'save'});\n\t\t}\n\t}\n\telse if (commandName === '.uno:DocumentRepair') {\n\t\tif (state === 'true') {\n\t\t\ttoolbar.enable('repair');\n\t\t} else {\n\t\t\ttoolbar.disable('repair');\n\t\t}\n\t}\n\n\tif (commandName === '.uno:SpacePara1' || commandName === '.uno:SpacePara15'\n\t\t|| commandName === '.uno:SpacePara2') {\n\t\ttoolbar.refresh();\n\t}\n\n\tvar id = unoCmdToToolbarId(commandName);\n\t// id is set to '' by unoCmdToToolbarId() if the statechange message should be ignored.\n\tif (id === '')\n\t\treturn;\n\n\tif (state === 'true') {\n\t\tif (map.isPermissionEdit()) {\n\t\t\ttoolbar.enable(id);\n\t\t}\n\t\ttoolbar.check(id);\n\t}\n\telse if (state === 'false') {\n\t\tif (map.isPermissionEdit()) {\n\t\t\ttoolbar.enable(id);\n\t\t}\n\t\ttoolbar.uncheck(id);\n\t}\n\t// Change the toolbar button states if we are in editmode\n\t// If in non-edit mode, will be taken care of when permission is changed to 'edit'\n\telse if (map.isPermissionEdit() && (state === 'enabled' || state === 'disabled')) {\n\t\tvar toolbarUp = toolbar;\n\t\tif (state === 'enabled') {\n\t\t\ttoolbarUp.enable(id);\n\t\t} else {\n\t\t\ttoolbarUp.uncheck(id);\n\t\t\ttoolbarUp.disable(id);\n\t\t}\n\t}\n}\n\nfunction onCommandStateChanged(e) {\n\tprocessStateChangedCommand(e.commandName, e.state);\n}\n\nfunction onUpdateParts(e) {\n\t$('#document-container').addClass(e.docType + '-doctype');\n\tif (e.docType === 'text') {\n\t\tvar current = e.currentPage;\n\t\tvar count = e.pages;\n\t}\n\telse {\n\t\tcurrent = e.selectedPart;\n\t\tcount = e.parts;\n\t}\n\n\tvar toolbar = w2ui['actionbar'];\n\tif (!toolbar) {\n\t\treturn;\n\t}\n\n\tif (!window.mode.isMobile()) {\n\t\tif (e.docType === 'presentation') {\n\t\t\ttoolbar.set('prev', {hint: _('Previous slide')});\n\t\t\ttoolbar.set('next', {hint: _('Next slide')});\n\t\t}\n\t\telse {\n\t\t\ttoolbar.hide('presentation');\n\t\t\ttoolbar.hide('insertpage');\n\t\t\ttoolbar.hide('duplicatepage');\n\t\t\ttoolbar.hide('deletepage');\n\t\t}\n\t}\n\n\tif (app.file.fileBasedView) {\n\t\ttoolbar.enable('prev');\n\t\ttoolbar.enable('next');\n\t\treturn;\n\t}\n\n\tif (e.docType !== 'spreadsheet') {\n\t\tif (current === 0) {\n\t\t\ttoolbar.disable('prev');\n\t\t}\n\t\telse {\n\t\t\ttoolbar.enable('prev');\n\t\t}\n\n\t\tif (current === count - 1) {\n\t\t\ttoolbar.disable('next');\n\t\t}\n\t\telse {\n\t\t\ttoolbar.enable('next');\n\t\t}\n\t}\n}\n\nfunction onCommandResult(e) {\n\tvar commandName = e.commandName;\n\n\tif (commandName === '.uno:Save') {\n\t\tif (e.success) {\n\t\t\t// Saved a new version; the document is modified.\n\t\t\tmap._everModified = true;\n\n\t\t\t// document is saved for rename\n\t\t\tif (map._renameFilename) {\n\t\t\t\tvar renameFilename = map._renameFilename;\n\t\t\t\tmap._renameFilename = '';\n\t\t\t\tmap.renameFile(renameFilename);\n\t\t\t}\n\t\t}\n\t\tvar postMessageObj = {\n\t\t\tsuccess: e.success\n\t\t};\n\t\tif (!e.success) {\n\t\t\t// add the result reason string if failed\n\t\t\tpostMessageObj['result'] = e.result && e.result.value;\n\t\t}\n\n\t\tmap.fire('postMessage', {msgId: 'Action_Save_Resp', args: postMessageObj});\n\t}\n\telse if ((commandName === '.uno:Undo' || commandName === '.uno:Redo') &&\n\t\te.success === true && e.result.value && !isNaN(e.result.value)) { /*UNDO_CONFLICT*/\n\t\t$('#tb_editbar_item_repair').w2overlay({ html: '<div style=\"padding: 10px; line-height: 150%\">' +\n\t\t_('Conflict Undo/Redo with multiple users. Please use document repair to resolve') + '</div>'});\n\t}\n}\n\nfunction onUpdatePermission(e) {\n\tvar toolbar = w2ui['editbar'];\n\tif (toolbar) {\n\t\t// always enabled items\n\t\tvar enabledButtons = ['closemobile', 'undo', 'redo', 'hamburger-tablet'];\n\n\t\t// copy the first array\n\t\tvar items = toolbar.items.slice();\n\t\tfor (var idx in items) {\n\t\t\tvar found = enabledButtons.filter(function(id) { return id === items[idx].id; });\n\t\t\tvar alwaysEnable = found.length !== 0;\n\n\t\t\tif (e.perm === 'edit') {\n\t\t\t\tvar unoCmd = map.getDocType() === 'spreadsheet' ? items[idx].unosheet : getUNOCommand(items[idx].uno);\n\t\t\t\tvar keepDisabled = map['stateChangeHandler'].getItemValue(unoCmd) === 'disabled';\n\t\t\t\tif (!keepDisabled || alwaysEnable) {\n\t\t\t\t\ttoolbar.enable(items[idx].id);\n\t\t\t\t}\n\t\t\t\t$('.main-nav').removeClass('readonly');\n\t\t\t\t$('#toolbar-down').removeClass('readonly');\n\t\t\t} else if (!alwaysEnable) {\n\t\t\t\t$('.main-nav').addClass('readonly');\n\t\t\t\t$('#toolbar-down').addClass('readonly');\n\t\t\t\ttoolbar.disable(items[idx].id);\n\t\t\t}\n\t\t}\n\t\tif (e.perm === 'edit') {\n\t\t\t$('#toolbar-mobile-back').removeClass('editmode-off');\n\t\t\t$('#toolbar-mobile-back').addClass('editmode-on');\n\t\t\ttoolbar.set('closemobile', {img: 'editmode'});\n\t\t} else {\n\t\t\t$('#toolbar-mobile-back').removeClass('editmode-on');\n\t\t\t$('#toolbar-mobile-back').addClass('editmode-off');\n\t\t\ttoolbar.set('closemobile', {img: 'closemobile'});\n\t\t}\n\n\t}\n}\n\nfunction editorUpdate(e) { // eslint-disable-line no-unused-vars\n\tvar docLayer = map._docLayer;\n\n\tif (e.target.checked) {\n\t\tvar editorId = docLayer._editorId;\n\n\t\tdocLayer._followUser = false;\n\t\tdocLayer._followEditor = true;\n\t\tif (editorId !== -1 && editorId !== docLayer._viewId) {\n\t\t\tmap._goToViewId(editorId);\n\t\t\tdocLayer._followThis = editorId;\n\t\t}\n\n\t\tvar userlistItem = w2ui['actionbar'].get('userlist');\n\t\tif (userlistItem !== null) {\n\t\t\t$('.selected-user').removeClass('selected-user');\n\t\t}\n\t}\n\telse {\n\t\tdocLayer._followEditor = false;\n\t\tdocLayer._followThis = -1;\n\t}\n\t$('#tb_actionbar_item_userlist').w2overlay('');\n}\n\nglobal.editorUpdate = editorUpdate;\n\n$(document).ready(function() {\n\t// Attach insert file action\n\t$('#insertgraphic').on('change', onInsertFile);\n\t$('#selectbackground').on('change', onInsertBackground);\n});\n\nfunction setupToolbar(e) {\n\tmap = e;\n\n\tmap.on('focussearch', function () {\n\t\tvar entry = L.DomUtil.get('search-input');\n\t\tentry.focus();\n\t\tentry.select();\n\t});\n\n\tmap.on('search', function (e) {\n\t\tvar searchInput = L.DomUtil.get('search-input');\n\t\tvar toolbar = w2ui['actionbar'];\n\t\tif (e.count === 0) {\n\t\t\ttoolbar.disable('searchprev');\n\t\t\ttoolbar.disable('searchnext');\n\t\t\ttoolbar.hide('cancelsearch');\n\t\t\tL.DomUtil.addClass(searchInput, 'search-not-found');\n\t\t\t$('#findthis').addClass('search-not-found');\n\t\t\tmap.resetSelection();\n\t\t\tsetTimeout(function () {\n\t\t\t\t$('#findthis').removeClass('search-not-found');\n\t\t\t\tL.DomUtil.removeClass(searchInput, 'search-not-found');\n\t\t\t}, 800);\n\t\t}\n\t});\n\n\tmap.on('hyperlinkclicked', function (e) {\n\t\tif (e.url) {\n\t\t\tif (e.coordinates) {\n\t\t\t\tvar strTwips = e.coordinates.match(/\\d+/g);\n\t\t\t\tvar topLeftTwips = new L.Point(parseInt(strTwips[6]), parseInt(strTwips[1]));\n\t\t\t\tvar offset = new L.Point(parseInt(strTwips[2]), parseInt(strTwips[3]));\n\t\t\t\tvar bottomRightTwips = topLeftTwips.add(offset);\n\t\t\t\tvar cellCursor = new L.LatLngBounds(\n\t\t\t\t\tmap._docLayer._twipsToLatLng(topLeftTwips, map.getZoom()),\n\t\t\t\t\tmap._docLayer._twipsToLatLng(bottomRightTwips, map.getZoom()));\n\t\t\t\t//click pos tweak\n\t\t\t\tcellCursor._northEast.lng = cellCursor._southWest.lng;\n\t\t\t\tmap._docLayer._closeURLPopUp();\n\t\t\t\tmap._docLayer._showURLPopUp(cellCursor._northEast, e.url);\n\t\t\t} else {\n\t\t\t\tmap.fire('warn', {url: e.url, map: map, cmd: 'openlink'});\n\t\t\t}\n\t\t}\n\t});\n\n\tmap.on('updatepermission', onUpdatePermission);\n\tmap.on('wopiprops', onWopiProps);\n\tmap.on('commandresult', onCommandResult);\n\tmap.on('updateparts pagenumberchanged', onUpdateParts);\n\n\tif (map.options.wopi && L.Params.closeButtonEnabled && !window.mode.isMobile()) {\n\t\t$('#closebuttonwrapper').css('display', 'block');\n\t\t$('#closebuttonwrapper').prop('title', _('Close document'));\n\t} else if (!L.Params.closeButtonEnabled) {\n\t\t$('#closebuttonwrapper').hide();\n\t} else if (L.Params.closeButtonEnabled && !window.mode.isMobile()) {\n\t\t$('#closebuttonwrapper').css('display', 'block');\n\t}\n\n\t$('#closebutton').click(onClose);\n}\n\nfunction updateVisibilityForToolbar(toolbar, context) {\n\tif (!toolbar)\n\t\treturn;\n\n\tvar toShow = [];\n\tvar toHide = [];\n\n\ttoolbar.items.forEach(function(item) {\n\t\tif (window.ThisIsTheiOSApp && window.mode.isTablet() && item.iosapptablet === false) {\n\t\t\ttoHide.push(item.id);\n\t\t}\n\t\telse if (((window.mode.isMobile() && item.mobile === false) || (window.mode.isTablet() && item.tablet === false) || (window.mode.isDesktop() && item.desktop === false) || (!window.ThisIsAMobileApp && item.mobilebrowser === false)) && !item.hidden) {\n\t\t\ttoHide.push(item.id);\n\t\t}\n\t\telse if (((window.mode.isMobile() && item.mobile === true) || (window.mode.isTablet() && item.tablet === true) || (window.mode.isDesktop() && item.desktop === true) || (window.ThisIsAMobileApp && item.mobilebrowser === true)) && item.hidden) {\n\t\t\ttoShow.push(item.id);\n\t\t}\n\n\t\tif (context && item.context) {\n\t\t\tif (item.context.indexOf(context) >= 0)\n\t\t\t\ttoShow.push(item.id);\n\t\t\telse\n\t\t\t\ttoHide.push(item.id);\n\t\t} else if (!context && item.context) {\n\t\t\tif (item.context.indexOf('default') >= 0)\n\t\t\t\ttoShow.push(item.id);\n\t\t\telse\n\t\t\t\ttoHide.push(item.id);\n\t\t}\n\t});\n\n\twindow.app.console.log('explicitly hiding: ' + toHide);\n\twindow.app.console.log('explicitly showing: ' + toShow);\n\n\ttoHide.forEach(function(item) { toolbar.hide(item); });\n\ttoShow.forEach(function(item) { toolbar.show(item); });\n}\n\nglobal.onClose = onClose;\nglobal.setupToolbar = setupToolbar;\nglobal.onClick = onClick;\nglobal.hideTooltip = hideTooltip;\nglobal.insertTable = insertTable;\nglobal.getInsertTablePopupHtml = getInsertTablePopupHtml;\nglobal.getShapesPopupHtml = getShapesPopupHtml;\nglobal.insertShapes = insertShapes;\nglobal.createShapesPanel = createShapesPanel;\nglobal.onUpdatePermission = onUpdatePermission;\nglobal.setupSearchInput = setupSearchInput;\nglobal.getUNOCommand = getUNOCommand;\nglobal.unoCmdToToolbarId = unoCmdToToolbarId;\nglobal.onCommandStateChanged = onCommandStateChanged;\nglobal.processStateChangedCommand = processStateChangedCommand;\nglobal.showColorPicker = showColorPicker;\nglobal.getColorPickerHTML = getColorPickerHTML;\nglobal.updateVisibilityForToolbar = updateVisibilityForToolbar;\nglobal.onUpdateParts = onUpdateParts;\n}(window));\n"]}