{"version":3,"file":"Control.UserList.js","sourceRoot":"","sources":["../../../../../../../../browser/src/control/Control.UserList.js"],"names":[],"mappings":"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","sourcesContent":["/* -*- js-indent-level: 8 -*- */\n/*\n * L.Control.UserList\n */\n\n/* global $ w2ui _ */\nL.Control.UserList = L.Control.extend({\n\toptions: {\n\t\tuserPopupTimeout: null,\n\t\tuserJoinedPopupMessage: '<div>' + _('%user has joined') + '</div>',\n\t\tuserLeftPopupMessage: '<div>' + _('%user has left') + '</div>',\n\t\tnUsers: undefined,\n\t\toneUser: undefined,\n\t\tnoUser: undefined,\n\t\tlistUser: []\n\t},\n\n\tinitialize: function () {\n\t},\n\n\tonAdd: function (map) {\n\t\tthis.map = map;\n\n\t\tmap.on('addview', this.onAddView, this);\n\t\tmap.on('removeview', this.onRemoveView, this);\n\t\tmap.on('deselectuser', this.deselectUser, this);\n\t\tmap.on('openuserlist', this.onOpenUserList, this);\n\n\t\tif (window.mode.isMobile() || window.mode.isTablet()) {\n\t\t\tthis.options.nUsers = '%n';\n\t\t\tthis.options.oneUser = '1';\n\t\t\tthis.options.noUser = '0';\n\t\t} else {\n\t\t\tthis.options.nUsers = _('%n users');\n\t\t\tthis.options.oneUser = _('1 user');\n\t\t\tthis.options.noUser = _('0 users');\n\t\t}\n\n\t\tmap.on('updateEditorName', function(e) {\n\t\t\t$('#currently-msg').show();\n\t\t\t$('#current-editor').text(e.username);\n\t\t});\n\n\n\t\tthis.registerHeaderAvatarEvents();\n\t},\n\n\tescapeHtml: function(input) {\n\t\treturn $('<div>').text(input).html();\n\t},\n\n\tselectUser: function(viewId) {\n\t\tvar userlistItem = w2ui['actionbar'].get('userlist');\n\t\tif (userlistItem === null) {\n\t\t\treturn;\n\t\t}\n\n\t\t$('#user-' + viewId).addClass('selected-user');\n\t\tL.DomUtil.addClass(document.querySelector('#userListPopover .user-list-item[data-view-id=\"' + viewId + '\"]'), 'selected-user');\n\t},\n\n\tfollowUser: function(viewId) {\n\t\tvar docLayer = this.map._docLayer;\n\t\tthis.map._goToViewId(viewId);\n\n\t\tif (viewId === docLayer._viewId) {\n\t\t\tthis.map._setFollowing(false, null);\n\t\t\tw2ui['actionbar'].uncheck('userlist');\n\t\t\treturn;\n\t\t} else if (docLayer._followThis !== -1) {\n\t\t\tthis.map._setFollowing(false, null);\n\t\t}\n\n\t\tdocLayer._followThis = viewId;\n\t\tdocLayer._followUser = true;\n\t\tdocLayer._followEditor = false;\n\n\t\tthis.selectUser(viewId);\n\t},\n\n\tonUseritemClicked: function(e) { // eslint-disable-line no-unused-vars\n\t\tvar viewId = parseInt(e.currentTarget.id.replace('user-', ''));\n\n\t\tif (viewId === this.map._docLayer._viewId) {\n\t\t\tw2ui['actionbar'].uncheck('userlist');\n\t\t\treturn;\n\t\t}\n\n\t\tw2ui['actionbar'].uncheck('userlist');\n\t},\n\n\tgetUserItem: function(viewId, userName, extraInfo, color) {\n\t\tvar content = L.DomUtil.create('tr', 'useritem');\n\t\tcontent.id = 'user-' + viewId;\n\t\t$(document).on('click', '#' + content.id, this.onUseritemClicked.bind(this));\n\n\t\tvar iconTd = L.DomUtil.create('td', 'usercolor', content);\n\t\tvar nameTd = L.DomUtil.create('td', 'username cool-font', content);\n\n\t\ticonTd.appendChild(L.control.createAvatar(viewId, userName, extraInfo, color));\n\t\tnameTd.textContent = userName;\n\n\t\treturn content;\n\t},\n\n\tregisterHeaderAvatarEvents: function() {\n\t\tvar outsideClickListener = function(e) {\n\t\t\t$('.main-nav.hasnotebookbar').css('overflow', 'scroll hidden');\n\t\t\tvar selector = '#userListPopover';\n\t\t\tvar $target = $(e.target);\n\t\t\tif (!$target.closest(selector).length && $(selector).is(':visible')) {\n\t\t\t\t$(selector).hide();\n\t\t\t}\n\t\t\tdocument.removeEventListener('click', outsideClickListener);\n\t\t};\n\n\t\tdocument.getElementById('userListSummary').addEventListener('click', function(e) {\n\t\t\te.stopPropagation();\n\t\t\t$('.main-nav.hasnotebookbar').css('overflow', 'visible');\n\t\t\t$('#userListPopover').show();\n\t\t\tdocument.addEventListener('click', outsideClickListener);\n\t\t});\n\t},\n\n\thideUserList: function() {\n\t\treturn window.ThisIsAMobileApp ||\n\t\t(this.map['wopi'].HideUserList !== null && this.map['wopi'].HideUserList !== undefined &&\n\t\t\t($.inArray('true', this.map['wopi'].HideUserList) >= 0) ||\n\t\t\t(window.mode.isMobile() && $.inArray('mobile', this.map['wopi'].HideUserList) >= 0) ||\n\t\t\t(window.mode.isTablet() && $.inArray('tablet', this.map['wopi'].HideUserList) >= 0) ||\n\t\t\t(window.mode.isDesktop() && $.inArray('desktop', this.map['wopi'].HideUserList) >= 0));\n\t},\n\n\trenderHeaderAvatars: function() {\n\t\tif (!window.mode.isDesktop() || this.hideUserList() || this.options.listUser.length === 1) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar that = this;\n\n\t\t// Summary rendering\n\t\tthis.options.listUser.slice(-3).forEach(function (user) {\n\t\t\tif (!document.querySelector('#userListSummary [data-view-id=\"' + user.viewId + '\"]')) {\n\t\t\t\tdocument.getElementById('userListSummary').appendChild(L.control.createAvatar(user.viewId, user.userName, user.extraInfo, user.color));\n\t\t\t}\n\t\t});\n\n\t\t// Popover rendering\n\t\tthis.options.listUser.forEach(function (user) {\n\t\t\tif (document.querySelector('#userListPopover .user-list-item[data-view-id=\"' + user.viewId + '\"]')) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar userLabel = L.DomUtil.create('div', 'user-list-item--name');\n\t\t\tuserLabel.innerText = user.userName;\n\n\t\t\tvar listItem = L.DomUtil.create('div', 'user-list-item');\n\t\t\tlistItem.setAttribute('data-view-id', user.viewId);\n\t\t\tlistItem.setAttribute('role', 'button');\n\t\t\tlistItem.appendChild(L.control.createAvatar(user.viewId, user.userName, user.extraInfo, user.color));\n\t\t\tlistItem.appendChild(userLabel);\n\t\t\tlistItem.addEventListener('click', function () {\n\t\t\t\tthat.followUser(user.viewId);\n\t\t\t}, false);\n\n\t\t\tvar popoverList = document.getElementById('userListPopover');\n\t\t\tpopoverList.insertBefore(listItem, popoverList.lastChild);\n\t\t});\n\n\t\tif (!document.getElementById('follow-editor')) {\n\t\t\tvar followEditorWrapper = L.DomUtil.create('div', '');\n\t\t\tfollowEditorWrapper.id = 'follow-editor';\n\t\t\tvar followEditorCheckbox = L.DomUtil.create('input', 'follow-editor-checkbox', followEditorWrapper);\n\t\t\tfollowEditorCheckbox.id = 'follow-editor-checkbox';\n\t\t\tfollowEditorCheckbox.setAttribute('type', 'checkbox');\n\t\t\tfollowEditorCheckbox.onchange = function(event) {\n\t\t\t\twindow.editorUpdate(event);\n\t\t\t};\n\t\t\tvar followEditorCheckboxLabel = L.DomUtil.create('label', 'follow-editor-label', followEditorWrapper);\n\t\t\tfollowEditorCheckboxLabel.innerText = _('Always follow the editor');\n\t\t\tfollowEditorCheckboxLabel.setAttribute('for', 'follow-editor-checkbox');\n\n\t\t\tdocument.getElementById('userListPopover').appendChild(followEditorWrapper);\n\t\t}\n\n\t\tdocument.getElementById('follow-editor-checkbox').checked = that.map._docLayer._followEditor;\n\t},\n\n\tremoveUserFromHeaderAvatars: function(viewId) {\n\t\tvar index = null;\n\t\tthis.options.listUser.forEach(function(item, idx) {\n\t\t\tif (item.viewId == viewId) {\n\t\t\t\tindex = idx;\n\t\t\t}\n\t\t});\n\n\t\tL.DomUtil.remove(document.querySelector('#userListSummary [data-view-id=\"' + viewId + '\"]'));\n\t\tL.DomUtil.remove(document.querySelector('#userListPopover .user-list-item[data-view-id=\"' + viewId + '\"]'));\n\t\tthis.options.listUser.splice(index, 1);\n\t\tthis.renderHeaderAvatars();\n\t},\n\n\tupdateUserListCount: function() {\n\t\tvar actionbar = w2ui.actionbar;\n\t\tvar userlistItem = actionbar && actionbar.get('userlist');\n\t\tif (userlistItem == null) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar count = $(userlistItem.html).find('#userlist_table tbody tr').length;\n\t\tif (count > 1) {\n\t\t\tuserlistItem.text = this.options.nUsers.replace('%n', count);\n\t\t} else if (count === 1) {\n\t\t\tuserlistItem.text = this.options.oneUser;\n\t\t} else {\n\t\t\tuserlistItem.text = this.options.noUser;\n\t\t}\n\n\t\tw2ui['actionbar'].refresh();\n\n\t\tif (!this.hideUserList() && count > 1 && !window.mode.isDesktop()) {\n\t\t\tactionbar.show('userlist');\n\t\t\tactionbar.show('userlistbreak');\n\t\t} else {\n\t\t\tactionbar.hide('userlist');\n\t\t\tactionbar.hide('userlistbreak');\n\t\t}\n\t},\n\n\tdeselectUser: function(e) {\n\t\tvar userlistItem = w2ui['actionbar'].get('userlist');\n\t\tif (userlistItem === null) {\n\t\t\treturn;\n\t\t}\n\n\t\t$('#user-' + e.viewId).removeClass('selected-user');\n\t\tL.DomUtil.removeClass(document.querySelector('#userListPopover .user-list-item[data-view-id=\"' + e.viewId + '\"]'), 'selected-user');\n\t},\n\n\tonOpenUserList: function() {\n\t\tvar that = this;\n\t\tsetTimeout(function () {\n\t\t\tvar cBox = $('#follow-checkbox')[0];\n\t\t\tvar docLayer = that.map._docLayer;\n\t\t\tvar editorId = docLayer._editorId;\n\t\t\tvar viewId = docLayer._followThis;\n\t\t\tvar followUser = docLayer._followUser;\n\n\t\t\tif (cBox)\n\t\t\t\tcBox.checked = docLayer._followEditor;\n\n\t\t\tif (docLayer.editorId !== -1 && that.map._viewInfo[editorId])\n\t\t\t\t$('#current-editor').text(that.map._viewInfo[editorId].username);\n\t\t\telse\n\t\t\t\t$('#currently-msg').hide();\n\n\t\t\tif (followUser)\n\t\t\t\tthat.selectUser(viewId);\n\t\t}, 100);\n\t},\n\n\tonAddView: function(e) {\n\t\tvar userlistItem = w2ui['actionbar'].get('userlist');\n\t\tvar username = this.escapeHtml(e.username);\n\t\tvar showPopup = false;\n\n\t\tif (userlistItem !== null)\n\t\t\tshowPopup = $(userlistItem.html).find('#userlist_table tbody tr').length > 0;\n\n\t\tif (showPopup) {\n\t\t\t$('#tb_actionbar_item_userlist')\n\t\t\t\t.w2overlay({\n\t\t\t\t\tclass: 'cool-font',\n\t\t\t\t\thtml: this.options.userJoinedPopupMessage.replace('%user', username),\n\t\t\t\t\tstyle: 'padding: 5px'\n\t\t\t\t});\n\t\t\tclearTimeout(this.options.userPopupTimeout);\n\t\t\tvar that = this;\n\t\t\tthis.options.userPopupTimeout = setTimeout(function() {\n\t\t\t\t$('#tb_actionbar_item_userlist').w2overlay('');\n\t\t\t\tclearTimeout(that.options.userPopupTimeout);\n\t\t\t\tthat.options.userPopupTimeout = null;\n\t\t\t}, 3000);\n\t\t}\n\n\t\tvar color = L.LOUtil.rgbToHex(this.map.getViewColor(e.viewId));\n\t\tif (e.viewId === this.map._docLayer._viewId) {\n\t\t\tusername = _('You');\n\t\t\tcolor = '#000';\n\t\t}\n\n\t\t// Mention readonly sessions in userlist\n\t\tif (e.readonly) {\n\t\t\tusername += ' (' +  _('Readonly') + ')';\n\t\t}\n\n\t\tif (userlistItem !== null) {\n\t\t\tvar newhtml = $(userlistItem.html).find('#userlist_table tbody').append(this.getUserItem(e.viewId, username, e.extraInfo, color)).parent().parent()[0].outerHTML;\n\t\t\tuserlistItem.html = newhtml;\n\t\t\tthis.updateUserListCount();\n\t\t}\n\n\t\tthis.options.listUser.push({viewId: e.viewId, userName: username, extraInfo: e.extraInfo, color: color});\n\t\tthis.renderHeaderAvatars();\n\t},\n\n\tonRemoveView: function(e) {\n\t\tvar that = this;\n\t\tvar username = this.escapeHtml(e.username);\n\t\t$('#tb_actionbar_item_userlist')\n\t\t\t.w2overlay({\n\t\t\t\tclass: 'cool-font',\n\t\t\t\thtml: this.options.userLeftPopupMessage.replace('%user', username),\n\t\t\t\tstyle: 'padding: 5px'\n\t\t\t});\n\t\tclearTimeout(this.options.userPopupTimeout);\n\t\tthis.options.userPopupTimeout = setTimeout(function() {\n\t\t\t$('#tb_actionbar_item_userlist').w2overlay('');\n\t\t\tclearTimeout(that.options.userPopupTimeout);\n\t\t\tthat.options.userPopupTimeout = null;\n\t\t}, 3000);\n\n\t\tif (e.viewId === this.map._docLayer._followThis) {\n\t\t\tthis.map._docLayer._followThis = -1;\n\t\t\tthis.map._docLayer._followUser = false;\n\t\t}\n\n\t\tvar userlistItem = w2ui['actionbar'].get('userlist');\n\t\tif (userlistItem !== null) {\n\t\t\tuserlistItem.html = $(userlistItem.html).find('#user-' + e.viewId).remove().end()[0].outerHTML;\n\t\t\tthis.updateUserListCount();\n\t\t\tthis.removeUserFromHeaderAvatars(e.viewId);\n\t\t}\n\t},\n});\n\nL.control.userList = function () {\n\treturn new L.Control.UserList();\n};\n\nL.control.createUserListWidget = function () {\n\treturn '<div id=\"userlist_container\"><table id=\"userlist_table\"><tbody></tbody></table>' +\n\t\t'<hr><table class=\"cool-font\" id=\"editor-btn\">' +\n\t\t'<tr>' +\n\t\t'<td><label id=\"follow-container\"><input type=\"checkbox\" name=\"alwaysFollow\" id=\"follow-checkbox\" onclick=\"editorUpdate(event)\"><span class=\"checkmark\"></span></label></td>' +\n\t\t'<td>' + _('Always follow the editor') + '</td>' +\n\t\t'</tr>' +\n\t\t'</table>' +\n\t\t'<p id=\"currently-msg\">' + _('Current') + ' - <b><span id=\"current-editor\"></span></b></p>' +\n\t\t'</div>';\n};\n\nL.control.createAvatar = function (viewId, userName, extraInfo, color) {\n\tvar img;\n\tif (extraInfo !== undefined && extraInfo.avatar !== undefined) {\n\t\timg = L.DomUtil.create('img', 'avatar-img');\n\t\timg.src = extraInfo.avatar;\n\t\tvar altImg = L.LOUtil.getImageURL('user.svg');\n\t\timg.setAttribute('onerror', 'this.onerror=null;this.src=\\'' + altImg + '\\';');\n\t\t$(img).css({'border-color': color});\n\t} else {\n\t\timg = L.DomUtil.create('div', 'user-info');\n\t\t$(img).css({'border-color': color, 'background-color': '#eee', 'background-image': 'url(\"' + L.LOUtil.getImageURL('user.svg') + '\")'});\n\t}\n\timg.setAttribute('data-view-id', viewId);\n\treturn img;\n};\n"]}