{"version":3,"file":"Control.Selection.js","sourceRoot":"","sources":["../../../../../../../../browser/src/control/Control.Selection.js"],"names":[],"mappings":"AAAA,gCAAgC;AAChC;;GAEG;AAEH,CAAC,CAAC,OAAO,CAAC,SAAS,GAAG,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC;IACtC,OAAO,EAAE;QACR,QAAQ,EAAE,SAAS;KACnB;IAED,KAAK,EAAE,UAAU,GAAG;QACnB,IAAI,QAAQ,GAAG,gCAAgC,EAC3C,SAAS,GAAG,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,EAAE,QAAQ,GAAG,cAAc,CAAC,CAAC;QAErE,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,EAAE,aAAa,EAAE,SAAS,CAAC,CAAC;QACrE,IAAI,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,CAAC;QACjC,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,EAAE,QAAQ,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;QAC9D,GAAG,CAAC,EAAE,CAAC,kBAAkB,EAAE,IAAI,CAAC,mBAAmB,EAAE,IAAI,CAAC,CAAC;QAC3D,SAAS,CAAC,WAAW,CAAC,QAAQ,CAAC,cAAc,CAAC,kBAAkB,CAAC,CAAC,CAAC;QACnE,OAAO,SAAS,CAAC;IAClB,CAAC;IAED,SAAS,EAAE;QACV,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE;YAC3B,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC;SAC5B;aACI;YACJ,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC;SAC7B;QACD,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;IACnB,CAAC;IAED,mBAAmB,EAAE,UAAU,CAAC;QAC/B,IAAI,CAAC,CAAC,IAAI,KAAK,MAAM,EAAE;YACtB,IAAI,CAAC,SAAS,CAAC,OAAO,GAAG,KAAK,CAAC;YAC/B,IAAI,CAAC,SAAS,CAAC,QAAQ,GAAG,IAAI,CAAC;SAC/B;aACI,IAAI,CAAC,CAAC,IAAI,KAAK,MAAM,EAAE;YAC3B,IAAI,CAAC,SAAS,CAAC,OAAO,GAAG,KAAK,CAAC;YAC/B,IAAI,CAAC,SAAS,CAAC,QAAQ,GAAG,KAAK,CAAC;SAChC;aACI,IAAI,CAAC,CAAC,IAAI,KAAK,UAAU,EAAE;YAC/B,IAAI,CAAC,SAAS,CAAC,OAAO,GAAG,KAAK,CAAC;YAC/B,IAAI,CAAC,SAAS,CAAC,QAAQ,GAAG,KAAK,CAAC;SAChC;IACF,CAAC;CACD,CAAC,CAAC;AAEH,CAAC,CAAC,OAAO,CAAC,SAAS,GAAG,UAAU,OAAO;IACtC,OAAO,IAAI,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;AACzC,CAAC,CAAC","sourcesContent":["/* -*- js-indent-level: 8 -*- */\n/*\n * L.Control.Selection enables by mouse drag selection in viewing mode\n */\n\nL.Control.Selection = L.Control.extend({\n\toptions: {\n\t\tposition: 'topleft'\n\t},\n\n\tonAdd: function (map) {\n\t\tvar partName = 'leaflet-control-editviewswitch',\n\t\t    container = L.DomUtil.create('label', partName + ' leaflet-bar');\n\n\t\tthis._checkBox = L.DomUtil.create('input', 'editview-cb', container);\n\t\tthis._checkBox.type = 'checkbox';\n\t\tL.DomEvent.on(this._checkBox, 'change', this._onChange, this);\n\t\tmap.on('updatepermission', this._onUpdatePermission, this);\n\t\tcontainer.appendChild(document.createTextNode('Enable Selection'));\n\t\treturn container;\n\t},\n\n\t_onChange: function () {\n\t\tif (this._checkBox.checked) {\n\t\t\tthis._map.enableSelection();\n\t\t}\n\t\telse {\n\t\t\tthis._map.disableSelection();\n\t\t}\n\t\tthis._map.focus();\n\t},\n\n\t_onUpdatePermission: function (e) {\n\t\tif (e.perm === 'edit') {\n\t\t\tthis._checkBox.checked = false;\n\t\t\tthis._checkBox.disabled = true;\n\t\t}\n\t\telse if (e.perm === 'view') {\n\t\t\tthis._checkBox.checked = false;\n\t\t\tthis._checkBox.disabled = false;\n\t\t}\n\t\telse if (e.perm === 'readonly') {\n\t\t\tthis._checkBox.checked = false;\n\t\t\tthis._checkBox.disabled = false;\n\t\t}\n\t}\n});\n\nL.control.selection = function (options) {\n\treturn new L.Control.Selection(options);\n};\n"]}