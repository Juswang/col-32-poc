{"version":3,"file":"Control.MobileWizardPopup.js","sourceRoot":"","sources":["../../../../../../../../browser/src/control/Control.MobileWizardPopup.js"],"names":[],"mappings":"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","sourcesContent":["/* -*- js-indent-level: 8 -*- */\n/*\n * L.Control.MobileWizardPopup - shows a popup with content styled like in mobile-wizard.\n                                 it will be used to show touch-device friendly UI in popups\n\t\t\t\t\t\t\t\t on devices with smaller screens which are not smartphones\n\t\t\t\t\t\t\t\t (desktop and tablets). Example of usage: show comments preview\n\t\t\t\t\t\t\t\t when browser has reduced size.\n */\n\n/* global app $ */\nL.Control.MobileWizardPopup = L.Control.extend({\n\t_builder: null,\n\t_overlay: null,\n\t_inMainMenu: true,\n\t_isActive: false,\n\t_inBuilding: false,\n\t_currentDepth: 0,\n\t_mainTitle: '',\n\t_customTitle: false,\n\t_isTabMode: false,\n\t_currentPath: [],\n\t_tabs: [],\n\t_currentScrollPosition: 0,\n\t_RTL: false,\n\n\tinitialize: function (options) {\n\t\tL.setOptions(this, options);\n\t},\n\n\tonAdd: function (map) {\n\t\tthis.map = map;\n\n\t\tmap.on('mobilewizardpopup', this._onMobileWizardPopup, this);\n\t\tmap.on('mobilewizardpopupresize', this._onResizeRequest, this);\n\t\tmap.on('mobilewizardpopupclose', this._hideWizard, this);\n\t\twindow.addEventListener('resize', this._hideWizard.bind(this));\n\n\t\tthis._RTL = document.documentElement.dir === 'rtl';\n\t},\n\n\tremoveContainer: function () {\n\t\tL.DomUtil.remove(this._overlay);\n\t\tL.DomUtil.remove(this._container);\n\t},\n\n\tonRemove: function() {\n\t\tthis.removeContainer();\n\n\t\tthis.map.off('mobilewizardpopup', this._onMobileWizardPopup, this);\n\t\tthis.map.off('mobilewizardpopupresize', this._onResizeRequest, this);\n\t\tthis.map.off('mobilewizardpopupclose', this._hideWizard, this);\n\t\twindow.removeEventListener('resize', this._hideWizard.bind(this));\n\t},\n\n\t_hideWizard: function () {\n\t\tthis.removeContainer();\n\n\t\tif (app.sectionContainer) {\n\t\t\tapp.sectionContainer.getSectionWithName(L.CSections.CommentList.name).removeHighlighters();\n\t\t\tapp.sectionContainer.getSectionWithName(L.CSections.CommentList.name).layout();\n\t\t}\n\t},\n\n\t_setTitle: function(title) {\n\t\tthis.title.innerText = title;\n\t},\n\n\t_setCustomTitle: function(title) {\n\t\tthis.title.innerHTML = title;\n\t},\n\n\tgoLevelDown: function(contentToShow, options) {\n\t\tvar animate = (options && options.animate != undefined) ? options.animate : true;\n\n\t\tif (!this._isTabMode || this._currentDepth > 0)\n\t\t\tL.DomUtil.removeClass(this.backButton, 'close-button');\n\n\t\tif (this._isTabMode && this._currentDepth > 0) {\n\t\t\tthis.titlebar.show();\n\t\t}\n\n\t\tvar nodesToHide = $(contentToShow).siblings().not('.mobile-wizard-scroll-indicator');\n\n\t\tvar parent = $(contentToShow).parent();\n\t\tif (parent.hasClass('toolbox'))\n\t\t\tnodesToHide = nodesToHide.add(parent.siblings().not('.mobile-wizard-scroll-indicator'));\n\n\t\tvar duration = 10;\n\t\tif (animate) {\n\t\t\tnodesToHide.hide('slide', { direction: 'left' }, duration);\n\t\t\t// be sure all is hidden, sometimes jQuery doesn't work here ...\n\t\t\t// restoreStyle is called in some jQuery cleanup what causes showing nodes again\n\t\t\tsetTimeout(function() { nodesToHide.hide(); }, duration + 5);\n\t\t}\n\t\telse\n\t\t\tnodesToHide.hide();\n\n\t\t$(contentToShow).children('.ui-header').hide();\n\n\t\tif (animate)\n\t\t\t$(contentToShow).children('.ui-content').first().show('slide', { direction: 'right' }, 'fast');\n\t\telse\n\t\t\t$(contentToShow).children('.ui-content').first().show();\n\n\t\tthis._currentDepth++;\n\t\tif (!this._inBuilding)\n\t\t\thistory.pushState({context: 'mobile-wizard', level: this._currentDepth}, 'mobile-wizard-level-' + this._currentDepth);\n\n\t\tvar title = $(contentToShow).children('.ui-content').get(0).title;\n\n\t\tif (this._customTitle)\n\t\t\tthis._setCustomTitle(this._customTitle);\n\t\telse\n\t\t\tthis._setTitle(title);\n\n\t\tthis._inMainMenu = false;\n\n\t\tthis._currentPath.push(title);\n\t},\n\n\tgoLevelUp: function() {\n\t\tthis._currentPath.pop();\n\t\tif (this._inMainMenu || (this._isTabMode && this._currentDepth == 1)) {\n\t\t\tthis._hideWizard();\n\t\t\tthis._currentDepth = 0;\n\t\t} else {\n\t\t\tthis._currentDepth--;\n\n\t\t\tvar parent = $('.ui-content.mobile-wizard:visible');\n\t\t\tif (this._currentDepth > 0 && parent)\n\t\t\t\tthis._customTitle ? this._setCustomTitle(parent.get(0).customTitleBar) : this._setTitle(parent.get(0).title);\n\t\t\telse\n\t\t\t\tthis._customTitle ? this._setCustomTitle(this._customTitle) : this._setTitle(this._mainTitle);\n\n\t\t\tvar currentNode = $('.ui-explorable-entry.level-' + this._currentDepth + '.mobile-wizard:visible');\n\t\t\tvar headers = currentNode.siblings();\n\t\t\tvar currentHeader = currentNode.children('.ui-header');\n\t\t\theaders = headers.add(currentHeader);\n\n\t\t\tvar parent = currentNode.parent();\n\t\t\tif (parent.hasClass('toolbox'))\n\t\t\t\theaders = headers.add(parent.siblings());\n\n\t\t\theaders = headers.not('.hidden');\n\n\t\t\t$('.ui-content.level-' + this._currentDepth + '.mobile-wizard:visible').hide();\n\t\t\theaders.show('slide', { direction: 'left' }, 'fast');\n\n\t\t\tif (this._currentDepth == 0 || (this._isTabMode && this._currentDepth == 1)) {\n\t\t\t\tthis._inMainMenu = true;\n\t\t\t\tL.DomUtil.addClass(this.backButton, 'close-button');\n\t\t\t\tif (this._isTabMode) {\n\t\t\t\t\tthis.titlebar.hide();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tapp.sectionContainer.getSectionWithName(L.CSections.CommentList.name).removeHighlighters();\n\t\t}\n\t},\n\n\t/// used for comments, when we extend popup's content\n\t_onResizeRequest: function() {\n\t\tvar that = this;\n\t\tsetTimeout(function () {\n\t\t\tif (!that._container || !that._popupParent)\n\t\t\t\treturn;\n\n\t\t\tvar bottomY = that._container.getBoundingClientRect().bottom;\n\n\t\t\tif (bottomY > that.map._container.getBoundingClientRect().bottom) {\n\t\t\t\tvar diff = bottomY - that.map._container.getBoundingClientRect().bottom + 40;\n\n\t\t\t\tvar posX = that._popupParent.getBoundingClientRect().left;\n\t\t\t\tif (that._RTL)\n\t\t\t\t\tposX -= that.map._container.getBoundingClientRect().width;\n\t\t\t\t(new L.PosAnimation()).run(that._popupParent,\n\t\t\t\t\t{\n\t\t\t\t\t\tx: posX,\n\t\t\t\t\t\ty: that._popupParent.getBoundingClientRect().top - diff\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\tthat._container.style.marginLeft = (that._RTL ? 15 : (15 - that._container.clientWidth)) + 'px';\n\t\t}, 100);\n\t},\n\n\t_onMobileWizardPopup: function(data) {\n\t\tthis.removeContainer();\n\n\t\tvar callback = data.callback;\n\t\tdata = data.data;\n\t\tif (data) {\n\t\t\tvar that = this;\n\n\t\t\tthis._hideWizard();\n\n\t\t\tthis._currentDepth = 0;\n\t\t\tthis._inMainMenu = true;\n\t\t\tthis._isTabMode = false;\n\t\t\tthis._currentPath = [];\n\t\t\tthis._tabs = [];\n\n\t\t\tvar parent = null;\n\t\t\tif (data.popupParent) {\n\t\t\t\tparent = L.DomUtil.get(data.popupParent);\n\t\t\t\tthis._popupParent = parent;\n\t\t\t}\n\t\t\tif (!parent)\n\t\t\t\tparent = document.body;\n\n\t\t\tvar isCommentWizard = data.children && data.children.length && data.children[0].type == 'comment';\n\n\t\t\tthis._container = L.DomUtil.create('div', 'jsdialog-container ui-dialog ui-widget-content lokdialog_container cool-annotation-collapsed', parent);\n\t\t\tthis._container.id = 'mobile-wizard-popup';\n\t\t\tthis._container.style.visibility = 'hidden';\n\t\t\tif (data.collapsed && (data.collapsed === 'true' || data.collapsed === true))\n\t\t\t\tL.DomUtil.addClass(this._container, 'collapsed');\n\n\t\t\tL.DomUtil.addClass(this._container, 'modalpopup');\n\n\t\t\tthis.titlebar = L.DomUtil.create('table', 'mobile-wizard-titlebar', this._container);\n\t\t\tthis.titlebar.style.width = '100%';\n\t\t\tthis.titlebar.style.top = '0px';\n\t\t\tvar tr = L.DomUtil.create('tr', 'mobile-wizard-titlebar', this.titlebar);\n\t\t\tthis.backButton = L.DomUtil.create('td', 'mobile-wizard-back', tr);\n\t\t\tL.DomUtil.addClass(this.backButton, 'close-button');\n\t\t\tthis.backButton.onclick = function() { that.goLevelUp(); };\n\t\t\tthis.title = L.DomUtil.create('td', 'mobile-wizard-title ui-widget', tr);\n\n\t\t\tvar content = L.DomUtil.create('div', 'lokdialog ui-dialog-content', this._container);\n\t\t\tthis.content = content;\n\t\t\tthis.content.style.maxHeight = (that.map._container.getBoundingClientRect().height - 50) + 'px';\n\n\t\t\tvar builder = new L.control.jsDialogBuilder({windowId: data.id, mobileWizard: this, map: this.map, cssClass: 'jsdialog'});\n\n\t\t\tvar overlayParent = document.body;\n\t\t\tif (isCommentWizard)\n\t\t\t\toverlayParent = that.map._container;\n\n\t\t\tthis._overlay = L.DomUtil.create('div', builder.options.cssClass + ' jsdialog-overlay cancellable', overlayParent);\n\t\t\tthis._overlay.onclick = function () { that._hideWizard(); };\n\n\t\t\tthis._builder = L.control.mobileWizardBuilder({windowId: data.id, mobileWizard: this, map: this.map, cssClass: 'mobile-wizard', callback: callback});\n\t\t\tthis._builder.build(content, [data]);\n\n\t\t\tif (!this.content.querySelector('.ui-explorable-entry'))\n\t\t\t\tthis.titlebar.style.display = 'none';\n\n\t\t\tvar posX = 0;\n\t\t\tvar posY = 0;\n\t\t\tvar setupPosition = function () {\n\t\t\t\tif (data.popupParent && parent != document.body) {\n\t\t\t\t\t// TODO: handle general case\n\n\t\t\t\t\tif (isCommentWizard) {\n\t\t\t\t\t\tthat._container.style.zIndex = -1;\n\t\t\t\t\t\tthat._overlay.style.zIndex = 10;\n\n\t\t\t\t\t\tposY = 15;\n\t\t\t\t\t\tposX = that._RTL ? 15 : 15 - content.clientWidth;\n\n\t\t\t\t\t\t// be sure it is fully visible\n\t\t\t\t\t\tvar absolutePosY = parent.getBoundingClientRect().top + posY;\n\t\t\t\t\t\tvar diffY = 0;\n\t\t\t\t\t\tif (absolutePosY + content.clientHeight > window.innerHeight)\n\t\t\t\t\t\t\tdiffY = absolutePosY + content.clientHeight - that.map._container.getBoundingClientRect().bottom + 20;\n\n\t\t\t\t\t\tif (diffY) {\n\t\t\t\t\t\t\tvar tmpPosX = parent.getBoundingClientRect().left;\n\t\t\t\t\t\t\tif (that._RTL)\n\t\t\t\t\t\t\t\ttmpPosX -= that.map._container.getBoundingClientRect().width;\n\t\t\t\t\t\t\t(new L.PosAnimation()).run(parent,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tx: tmpPosX,\n\t\t\t\t\t\t\t\t\ty: absolutePosY - diffY - that.map._container.getBoundingClientRect().top\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tposX = window.innerWidth/2 - this._container.offsetWidth/2;\n\t\t\t\t\tposY = window.innerHeight/2 - this._container.offsetHeight/2;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tsetupPosition();\n\n\t\t\tthis._container.style.marginLeft = posX + 'px';\n\t\t\tthis._container.style.marginTop = posY + 'px';\n\n\t\t\tsetTimeout(function () {\n\t\t\t\tsetupPosition();\n\t\t\t\tthat._container.style.marginLeft = posX + 'px';\n\t\t\t\tthat._container.style.marginTop = posY + 'px';\n\t\t\t\tthat._container.style.visibility = '';\n\t\t\t}, 200);\n\t\t}\n\t},\n});\n\nL.control.mobileWizardPopup = function (options) {\n\treturn new L.Control.MobileWizardPopup(options);\n};\n"]}